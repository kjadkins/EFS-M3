{"programModules":{"EXT600MI":{"program":"EXT600MI","triggers":{},"transactions":{"LstByDivi":{"sourceUuid":"44d62fce-d33a-4e3a-9977-e5296a988a7b","name":"LstByDivi","program":"EXT600MI","description":"List info to PriceFX by division","active":true,"multi":true,"modified":1683654213539,"modifiedBy":"JESBJO00","outputFields":[{"name":"IVNO","description":"Invoice Number","length":9,"mandatory":false,"type":"A"},{"name":"IVDT","description":"Invoice Date","length":8,"mandatory":false,"type":"A"},{"name":"CUNO","description":"Customer Number","length":10,"mandatory":false,"type":"A"},{"name":"CUCD","description":"Currency","length":3,"mandatory":false,"type":"A"},{"name":"TEPY","description":"Payment Terms","length":3,"mandatory":false,"type":"A"},{"name":"ITNO","description":"Item Number","length":15,"mandatory":false,"type":"A"},{"name":"ITDS","description":"Item Description","length":60,"mandatory":false,"type":"A"},{"name":"LTYP","description":"Line Type","length":1,"mandatory":false,"type":"A"},{"name":"SPUN","description":"Sales Price Unit of Measure","length":3,"mandatory":false,"type":"A"},{"name":"QTY6","description":"Qty 6","length":21,"mandatory":false,"type":"A"},{"name":"QTY4","description":"Qty 4","length":21,"mandatory":false,"type":"A"},{"name":"DCOS","description":"Issued Cost Amount","length":23,"mandatory":false,"type":"A"},{"name":"SAPR","description":"Sales Price","length":23,"mandatory":false,"type":"A"},{"name":"NEPR","description":"Net Price","length":23,"mandatory":false,"type":"A"},{"name":"LNAM","description":"Line Amount - Ordered Currency","length":17,"mandatory":false,"type":"A"},{"name":"HIE1","description":"Hierarchy Level 1","length":15,"mandatory":false,"type":"A"},{"name":"HIE2","description":"Hierarchy Level 2","length":15,"mandatory":false,"type":"A"},{"name":"HIE3","description":"Hierarchy Level 3","length":15,"mandatory":false,"type":"A"},{"name":"HIE4","description":"Hierarchy Level 4","length":15,"mandatory":false,"type":"A"},{"name":"HIE5","description":"Hierarchy Level 5","length":15,"mandatory":false,"type":"A"},{"name":"FACI","description":"Facility","length":3,"mandatory":false,"type":"A"},{"name":"ORTP","description":"Order Type","length":3,"mandatory":false,"type":"A"},{"name":"WCON","description":"Contact Method","length":3,"mandatory":false,"type":"A"},{"name":"ORDT","description":"Order Date","length":8,"mandatory":false,"type":"A"},{"name":"ADID","description":"Address Id","length":6,"mandatory":false,"type":"A"},{"name":"OFNO","description":"Quotation Number","length":10,"mandatory":false,"type":"A"},{"name":"AGNO","description":"Agreement Number","length":7,"mandatory":false,"type":"A"},{"name":"SMCD","description":"Salesperson","length":10,"mandatory":false,"type":"A"},{"name":"RSCD","description":"Reason code","length":3,"mandatory":false,"type":"A"},{"name":"TEDL","description":"Delivery Terms","length":3,"mandatory":false,"type":"A"},{"name":"TEL1","description":"Terms text","length":36,"mandatory":false,"type":"A"},{"name":"ORNO","description":"Order Number","length":10,"mandatory":false,"type":"A"},{"name":"YEA4","description":"Invoice Year","length":4,"mandatory":false,"type":"A"},{"name":"ORST","description":"Status","length":2,"mandatory":false,"type":"A"},{"name":"NAME","description":"Name","length":36,"mandatory":false,"type":"A"},{"name":"TOWN","description":"City","length":20,"mandatory":false,"type":"A"},{"name":"CSCD","description":"Country","length":3,"mandatory":false,"type":"A"},{"name":"PONO","description":"Postal Code","length":10,"mandatory":false,"type":"A"},{"name":"LOCD","description":"Local Currency","length":3,"mandatory":false,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":false,"type":"A"},{"name":"ATVN","description":"Attribute","length":17,"mandatory":false,"type":"A"},{"name":"PONR","description":"Order Line Number","length":5,"mandatory":false,"type":"N"},{"name":"DISC","description":"Discount","length":21,"mandatory":false,"type":"A"},{"name":"DISM","description":"Additional Discount","length":21,"mandatory":false,"type":"A"},{"name":"CHGH","description":"Handling Charges","length":17,"mandatory":false,"type":"A"},{"name":"CHGF","description":"Freight Charges","length":17,"mandatory":false,"type":"A"},{"name":"CHGO","description":"Other Charges","length":17,"mandatory":false,"type":"A"},{"name":"AGNH","description":"Agreement Number Head","length":7,"mandatory":false,"type":"A"},{"name":"PYNO","description":"Payer","length":10,"mandatory":false,"type":"A"},{"name":"ARAT","description":"Currency rate","length":15,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"UCA2","description":"Agent 1","length":20,"mandatory":false,"type":"A"},{"name":"UCA3","description":"Agent 2","length":20,"mandatory":false,"type":"A"},{"name":"EXIN","description":"Ext Invoice Number","length":14,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":true,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"44d62fce-d33a-4e3a-9977-e5296a988a7b":{"uuid":"44d62fce-d33a-4e3a-9977-e5296a988a7b","updated":1684870791001,"updatedBy":"JESBJO00","created":1681054154247,"createdBy":"JESBJO00","apiVersion":"0.21","beVersion":"16.0.0.20230320183423.8","language":"GROOVY","codeHash":"6D15CB9CE2F54B0B88FE581544E4EA7146C081E48E861D01923CA7724A14165F","code":"Ly8gQGF1dGhvciAgICBKZXNzaWNhIEJqb3JrbHVuZCAoamVzc2ljYS5iam9ya2x1bmRAY29sdW1idXNnbG9iYWwuY29tKQ0KLy8gQGRhdGUgICAgICAyMDIzLTA0LTA0DQovLyBAdmVyc2lvbiAgIDEuMCAgDQovLw0KLy8gRGVzY3JpcHRpb24gDQovLyBUaGlzIEFQSSB0cmFuc2FjYXRpb24gTHN0QnlEaXZpIGlzIHVzZWQgdG8gc2VuZCBkYXRhIHRvIFByaWNlRlggZnJvbSBNMyANCi8vDQoNCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KLy8gRGF0ZSAgICBWZXJzaW9uICAgICBEZXZlbG9wZXIgDQovLyAyMzA0MDQgIDEuMCAgICAgICAgIEplc3NpY2EgQmpvcmtsdW5kLCBDb2x1bWJ1cyAgIE5ldyBBUEkgdHJhbnNhY3Rpb24gdG8gbGlzdCBieSBkaXZpc2lvbg0KLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQoNCg0KaW1wb3J0IGphdmEubWF0aC5Sb3VuZGluZ01vZGUgDQppbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWwNCmltcG9ydCBqYXZhLmxhbmcuTWF0aA0KaW1wb3J0IGphdmEudGltZS5JbnN0YW50DQppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZQ0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lDQppbXBvcnQgamF2YS50aW1lLmZvcm1hdC5EYXRlVGltZUZvcm1hdHRlcg0KDQoNCnB1YmxpYyBjbGFzcyBMc3RCeURpdmkgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsgDQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2U7IA0KICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbTsNCiAgcHJpdmF0ZSBmaW5hbCBMb2dnZXJBUEkgbG9nZ2VyOyANCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcjsgDQoNCiAgDQogIC8vIERlZmluaXRpb24gDQogIHB1YmxpYyBpbnQgY29tcGFueSANCiAgcHVibGljIFN0cmluZyBkaXZpc2lvbg0KICBwdWJsaWMgaW50IGRlbGl2ZXJ5TnVtYmVyDQogIHB1YmxpYyBpbnQgaW52b2ljZU51bWJlcg0KICBwdWJsaWMgU3RyaW5nIG9yZGVyTnVtYmVyDQogIHB1YmxpYyBTdHJpbmcgaXRlbU51bWJlcg0KICBwdWJsaWMgaW50IG9yZGVyTGluZQ0KICBwdWJsaWMgaW50IG9yZGVyTGluZVN1ZmZpeA0KICBwdWJsaWMgU3RyaW5nIHdhcmVob3VzZQ0KICBwdWJsaWMgU3RyaW5nIHBheW1lbnRUZXJtcw0KICBwdWJsaWMgU3RyaW5nIGludm9pY2VEYXRlDQogIHB1YmxpYyBTdHJpbmcgZGVsaXZlcnlUZXJtcw0KICBwdWJsaWMgU3RyaW5nIHllYXINCiAgcHVibGljIFN0cmluZyBjdXN0b21lcg0KICBwdWJsaWMgU3RyaW5nIGN1cnJlbmN5Q29kZQ0KICBwdWJsaWMgU3RyaW5nIGxhbmd1YWdlQ29kZQ0KICBwdWJsaWMgU3RyaW5nIGNvbXBhbnlTdHJpbmcNCiAgcHVibGljIFN0cmluZyBkZWxpdmVyeU51bWJlclN0cmluZw0KICBwdWJsaWMgU3RyaW5nIG9yZGVyTGluZVN0cmluZw0KICBwdWJsaWMgU3RyaW5nIG9yZGVyTGluZVN1ZmZpeFN0cmluZw0KICBwdWJsaWMgU3RyaW5nIG9yZGVyU3RhdHVzDQogIHB1YmxpYyBTdHJpbmcgc2FsZXNQcmljZQ0KICBwdWJsaWMgU3RyaW5nIG5ldFByaWNlDQogIHB1YmxpYyBTdHJpbmcgbGluZUFtb3VudA0KICBwdWJsaWMgaW50IHNlbnRGbGFnDQogIHB1YmxpYyBpbnQgaW5DT05PDQogIHB1YmxpYyBTdHJpbmcgaW5ESVZJIA0KICBwdWJsaWMgU3RyaW5nIGluTkJUWQ0KICBwdWJsaWMgU3RyaW5nIGluTkJJRA0KICBwdWJsaWMgbG9uZyBhdHRyaWJ1dGVOdW1iZXINCiAgcHVibGljIGRvdWJsZSBkaXNjb3VudDEgICAgICAgICAgICAgICAgDQogIHB1YmxpYyBkb3VibGUgZGlzY291bnQyICAgICAgICAgICAgICAgIA0KICBwdWJsaWMgZG91YmxlIGRpc2NvdW50MyAgICAgICAgICAgICAgICANCiAgcHVibGljIGRvdWJsZSBkaXNjb3VudDQgICAgICAgICAgICAgICAgDQogIHB1YmxpYyBkb3VibGUgZGlzY291bnQ1ICAgICAgICAgICAgICAgIA0KICBwdWJsaWMgZG91YmxlIGRpc2NvdW50NiAgICAgICAgICAgICAgICANCiAgcHVibGljIGRvdWJsZSBkaXNjb3VudFN1bSAgICAgICAgICAgICANCiAgcHVibGljIFN0cmluZyBpbnZvaWNlTnVtYmVyU3RyaW5nICAgDQogIHB1YmxpYyBTdHJpbmcgZXh0SW52b2ljZU51bWJlciAgICAgIA0KICBwdWJsaWMgU3RyaW5nIGludm9pY2VQcmVmaXggICAgICAgICANCiAgcHVibGljIFN0cmluZyBpbnZDaGFyZ2UgICAgICAgICAgICAgDQogIHB1YmxpYyBTdHJpbmcgaW52UmVmZXJlbmNlICAgICAgICAgIA0KICBwdWJsaWMgU3RyaW5nIGluZm9ybWF0aW9uVHlwZSAgICAgICANCiAgcHVibGljIFN0cmluZyBwYXllciANCiAgcHVibGljIFN0cmluZyBsYXN0RXhwb3J0ZWRJbnZvaWNlTnVtYmVyU2VyaWVzDQogIHB1YmxpYyBTdHJpbmcgbGFzdEV4cG9ydGVkSW52b2ljZU51bWJlclN0YXJ0DQogIHB1YmxpYyBTdHJpbmcgbGFzdEV4cG9ydGVkSW52b2ljZU51bWJlck1heA0KICBwdWJsaWMgU3RyaW5nIGxhc3RFeHBvcnRlZEludm9pY2VOdW1iZXJFbmQNCiAgcHVibGljIFN0cmluZyBudW1iZXJTZXJpZXNGb3JEaXZpc2lvbg0KICBwdWJsaWMgU3RyaW5nIGN1cnJlbnRZZWFyDQoNCiAgLy8gRGVmaW5pdGlvbiBvZiBvdXRwdXQgZmllbGRzDQogIHB1YmxpYyBTdHJpbmcgb3V0SVZOTw0KICBwdWJsaWMgU3RyaW5nIG91dElWRFQNCiAgcHVibGljIFN0cmluZyBvdXRDVU5PIA0KICBwdWJsaWMgU3RyaW5nIG91dENVQ0QNCiAgcHVibGljIFN0cmluZyBvdXRURVBZIA0KICBwdWJsaWMgU3RyaW5nIG91dElUTk8gIA0KICBwdWJsaWMgU3RyaW5nIG91dElURFMgIA0KICBwdWJsaWMgU3RyaW5nIG91dExUWVAgIA0KICBwdWJsaWMgU3RyaW5nIG91dFNQVU4gIA0KICBwdWJsaWMgU3RyaW5nIG91dFFUWTYgIA0KICBwdWJsaWMgU3RyaW5nIG91dFFUWTQgIA0KICBwdWJsaWMgU3RyaW5nIG91dERDT1MNCiAgcHVibGljIFN0cmluZyBvdXRTQVBSDQogIHB1YmxpYyBTdHJpbmcgb3V0TkVQUg0KICBwdWJsaWMgU3RyaW5nIG91dExOQU0NCiAgcHVibGljIFN0cmluZyBvdXRISUUxDQogIHB1YmxpYyBTdHJpbmcgb3V0SElFMg0KICBwdWJsaWMgU3RyaW5nIG91dEhJRTMNCiAgcHVibGljIFN0cmluZyBvdXRISUU0DQogIHB1YmxpYyBTdHJpbmcgb3V0SElFNQ0KICBwdWJsaWMgU3RyaW5nIG91dEZBQ0kNCiAgcHVibGljIFN0cmluZyBvdXRPUlRQDQogIHB1YmxpYyBTdHJpbmcgb3V0QURJRA0KICBwdWJsaWMgU3RyaW5nIG91dE9STk8NCiAgcHVibGljIFN0cmluZyBvdXRSU0NEDQogIHB1YmxpYyBTdHJpbmcgb3V0VEVETA0KICBwdWJsaWMgU3RyaW5nIG91dFRFTDENCiAgcHVibGljIFN0cmluZyBvdXRTTUNEDQogIHB1YmxpYyBTdHJpbmcgb3V0V0NPTg0KICBwdWJsaWMgU3RyaW5nIG91dE9SRFQNCiAgcHVibGljIFN0cmluZyBvdXRPRk5PDQogIHB1YmxpYyBTdHJpbmcgb3V0QUdOTw0KICBwdWJsaWMgU3RyaW5nIG91dE9SU1QNCiAgcHVibGljIFN0cmluZyBvdXRETElYDQogIHB1YmxpYyBTdHJpbmcgb3V0QURSVA0KICBwdWJsaWMgU3RyaW5nIG91dENPTk8NCiAgcHVibGljIFN0cmluZyBvdXROQU1FDQogIHB1YmxpYyBTdHJpbmcgb3V0VE9XTg0KICBwdWJsaWMgU3RyaW5nIG91dENTQ0QNCiAgcHVibGljIFN0cmluZyBvdXRQT05PDQogIHB1YmxpYyBTdHJpbmcgb3V0TE9DRA0KICBwdWJsaWMgU3RyaW5nIG91dEFUQVYNCiAgcHVibGljIFN0cmluZyBvdXRZRUE0DQogIHB1YmxpYyBTdHJpbmcgb3V0UE9OUiAgIA0KICBwdWJsaWMgU3RyaW5nIG91dERJU0MgICANCiAgcHVibGljIFN0cmluZyBvdXRESVNNICAgDQogIHB1YmxpYyBTdHJpbmcgb3V0Q0hHSCAgIA0KICBwdWJsaWMgU3RyaW5nIG91dENIR0YgICANCiAgcHVibGljIFN0cmluZyBvdXRDSEdPICAgDQogIHB1YmxpYyBTdHJpbmcgb3V0QUdOSCAgIA0KICBwdWJsaWMgU3RyaW5nIG91dFBZTk8gICANCiAgcHVibGljIFN0cmluZyBvdXRBUkFUDQogIHB1YmxpYyBTdHJpbmcgb3V0V0hMTw0KICBwdWJsaWMgU3RyaW5nIG91dFVDQTINCiAgcHVibGljIFN0cmluZyBvdXRVQ0EzDQogIHB1YmxpYyBTdHJpbmcgb3V0RVhJTg0KDQoNCiAgLy8gQ29uc3RydWN0b3IgDQogIHB1YmxpYyBMc3RCeURpdmkoTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLFByb2dyYW1BUEkgcHJvZ3JhbSwgTG9nZ2VyQVBJIGxvZ2dlciwgTUlDYWxsZXJBUEkgbWlDYWxsZXIpIHsNCiAgICAgdGhpcy5taSA9IG1pOw0KICAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2U7IA0KICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtOw0KICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjsgDQogICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcjsNCiAgfSANCiAgICAgDQogIA0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAvLyBNYWluIA0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICANCiAgcHVibGljIHZvaWQgbWFpbigpIHsgDQogICAgICAvLyBHZXQgTERBIGNvbXBhbnkgb2Ygbm90IGVudGVyZWQgDQogICAgICBpbkNPTk8gPSBnZXRDT05PKCkgIA0KICAgICAgaW5ESVZJID0gbWkuaW4uZ2V0KCJESVZJIikgIA0KICAgICAgDQogICAgICBjdXJyZW50WWVhciA9IGN1cnJlbnRZZWFyQXNTdHJpbmcoKQ0KDQogICAgICAvL0dldCBpbnZvaWNlIG51bWJlciB0byBzdGFydCB3aXRoDQogICAgICAvL0ZpcnN0IGdldCBmb3IgZGl2aSArIEENCiAgICAgIG51bWJlclNlcmllc0ZvckRpdmlzaW9uID0gIiINCiAgICAgIG51bWJlclNlcmllc0ZvckRpdmlzaW9uID0gIkEiDQogICAgICBsYXN0RXhwb3J0ZWRJbnZvaWNlTnVtYmVyU3RhcnQgPSAiIg0KICAgICAgbGFzdEV4cG9ydGVkSW52b2ljZU51bWJlck1heCA9ICIiDQoNCiAgICAgIC8vIEdldCBMYXN0IGludm9pY2UgbnVtYmVyIGZvciBkaXZpc2lvbiANCiAgICAgIE9wdGlvbmFsPERCQ29udGFpbmVyPiBDVUdFWDNBID0gZmluZENVR0VYMyhpbkNPTk8sICJQUklDRUZYSU5WRVhQIiwgaW5ESVZJLnRyaW0oKSwgY3VycmVudFllYXIsIG51bWJlclNlcmllc0ZvckRpdmlzaW9uKQ0KICAgICAgaWYgKENVR0VYM0EuaXNQcmVzZW50KCkpew0KICAgICAgICAvLyBSZWNvcmQgZm91bmQsIGNvbnRpbnVlIHRvIGdldCBpbmZvcm1hdGlvbiAgDQogICAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lckNVR0VYM0EgPSBDVUdFWDNBLmdldCgpIA0KICAgICAgICBsYXN0RXhwb3J0ZWRJbnZvaWNlTnVtYmVyU3RhcnQgPSBjb250YWluZXJDVUdFWDNBLmdldFN0cmluZygiRjNBMDMwIikgICANCiAgICAgICAgbGFzdEV4cG9ydGVkSW52b2ljZU51bWJlck1heCA9IGNvbnRhaW5lckNVR0VYM0EuZ2V0U3RyaW5nKCJGM0ExMzAiKSAgIA0KICAgICAgfSANCg0KICAgICAgaWYgKGxhc3RFeHBvcnRlZEludm9pY2VOdW1iZXJTdGFydCAhPSBudWxsICYmIGxhc3RFeHBvcnRlZEludm9pY2VOdW1iZXJTdGFydCAhPSAiIikgew0KICAgICAgICAvLyBTdGFydCB0aGUgbGlzdGluZw0KICAgICAgICBsc3RJbnZvaWNlTGluZXMoKQ0KICAgICAgICB1cGRhdGVDVUdFWDNSZWNvcmQoaW5DT05PLCAiUFJJQ0VGWElOVkVYUCIsIGluRElWSS50cmltKCksIGN1cnJlbnRZZWFyLCBudW1iZXJTZXJpZXNGb3JEaXZpc2lvbikNCiAgICAgIH0NCiAgICAgIA0KICAgICAgLy9UaGVuIGdldCBmb3IgZGl2aSArIEINCiAgICAgIG51bWJlclNlcmllc0ZvckRpdmlzaW9uID0gIiINCiAgICAgIG51bWJlclNlcmllc0ZvckRpdmlzaW9uID0gIkIiDQogICAgICBsYXN0RXhwb3J0ZWRJbnZvaWNlTnVtYmVyU3RhcnQgPSAiIg0KICAgICAgbGFzdEV4cG9ydGVkSW52b2ljZU51bWJlck1heCA9ICIiDQoNCiAgICAgIC8vIEdldCBMYXN0IGludm9pY2UgbnVtYmVyIGZvciBkaXZpc2lvbiANCiAgICAgIE9wdGlvbmFsPERCQ29udGFpbmVyPiBDVUdFWDNCID0gZmluZENVR0VYMyhpbkNPTk8sICJQUklDRUZYSU5WRVhQIiwgaW5ESVZJLnRyaW0oKSwgY3VycmVudFllYXIsIG51bWJlclNlcmllc0ZvckRpdmlzaW9uKQ0KICAgICAgaWYgKENVR0VYM0IuaXNQcmVzZW50KCkpew0KICAgICAgICAvLyBSZWNvcmQgZm91bmQsIGNvbnRpbnVlIHRvIGdldCBpbmZvcm1hdGlvbiAgDQogICAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lckNVR0VYM0IgPSBDVUdFWDNCLmdldCgpIA0KICAgICAgICBsYXN0RXhwb3J0ZWRJbnZvaWNlTnVtYmVyU3RhcnQgPSBjb250YWluZXJDVUdFWDNCLmdldFN0cmluZygiRjNBMDMwIikgICANCiAgICAgICAgbGFzdEV4cG9ydGVkSW52b2ljZU51bWJlck1heCA9IGNvbnRhaW5lckNVR0VYM0IuZ2V0U3RyaW5nKCJGM0ExMzAiKSAgIA0KICAgICAgfSANCg0KICAgICAgaWYgKGxhc3RFeHBvcnRlZEludm9pY2VOdW1iZXJTdGFydCAhPSBudWxsICYmIGxhc3RFeHBvcnRlZEludm9pY2VOdW1iZXJTdGFydCAhPSAiIikgew0KICAgICAgICAvLyBTdGFydCB0aGUgbGlzdGluZw0KICAgICAgICBsc3RJbnZvaWNlTGluZXMoKQ0KICAgICAgICB1cGRhdGVDVUdFWDNSZWNvcmQoaW5DT05PLCAiUFJJQ0VGWElOVkVYUCIsIGluRElWSS50cmltKCksIGN1cnJlbnRZZWFyLCBudW1iZXJTZXJpZXNGb3JEaXZpc2lvbikNCiAgICAgIH0NCg0KICB9DQogIA0KICAgICAgICAgICAgICAgIA0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAvLyBHZXQgY29tcGFueSBmcm9tIExEQQ0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICBwcml2YXRlIEludGVnZXIgZ2V0Q09OTygpIHsNCiAgICBpbnQgY29tcGFueSA9IG1pLmluLmdldCgiQ09OTyIpIGFzIEludGVnZXINCiAgICBpZihjb21wYW55ID09IG51bGwpew0KICAgICAgY29tcGFueSA9IHByb2dyYW0uTERBWkQuQ09OTyBhcyBJbnRlZ2VyDQogICAgfSANCiAgICByZXR1cm4gY29tcGFueQ0KICAgIA0KICB9IA0KDQoNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgLy8gR2V0IE9yZGVyIERlbGl2ZXJ5IEhlYWRlciBJbmZvIE9ESEVBRA0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICBwcml2YXRlIE9wdGlvbmFsPERCQ29udGFpbmVyPiBmaW5kT0RIRUFEKEludGVnZXIgQ09OTywgU3RyaW5nIE9STk8sIFN0cmluZyBXSExPLCBJbnRlZ2VyIERMSVgsIFN0cmluZyBURVBZKXsgIA0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk9ESEVBRCIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiVUFDT05PIiwgIlVBT1JOTyIsICJVQUNVTk8iLCAiVUFETElYIiwgIlVBV0hMTyIsICJVQUlWTk8iLCAiVUFJVkRUIiwgIlVBQ1VOTyIsICJVQUNVQ0QiLCAiVUFURVBZIiwgIlVBT1JTVCIsICJVQVlFQTQiLCAiVUFURURMIiwgIlVBSU5QWCIsICJVQURJVkkiLCAiVUFQWU5PIikuYnVpbGQoKSAgICANCiAgICBkZWYgT0RIRUFEID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkNCiAgICBPREhFQUQuc2V0KCJVQUNPTk8iLCBDT05PKQ0KICAgIE9ESEVBRC5zZXQoIlVBT1JOTyIsIE9STk8pDQogICAgT0RIRUFELnNldCgiVUFXSExPIiwgV0hMTykNCiAgICBPREhFQUQuc2V0KCJVQURMSVgiLCBETElYKQ0KICAgIE9ESEVBRC5zZXQoIlVBVEVQWSIsIFRFUFkpDQogICAgDQogICAgaWYocXVlcnkucmVhZChPREhFQUQpKSAgeyANCiAgICAgIHJldHVybiBPcHRpb25hbC5vZihPREhFQUQpDQogICAgfSANCiAgDQogICAgcmV0dXJuIE9wdGlvbmFsLmVtcHR5KCkNCiAgfQ0KICANCiAgDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIC8vIEdldCBPcmRlciBIZWFkZXIgSW5mbyBPT0hFQUQNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgcHJpdmF0ZSBPcHRpb25hbDxEQkNvbnRhaW5lcj4gZmluZE9PSEVBRChJbnRlZ2VyIENPTk8sIFN0cmluZyBPUk5PKXsgIA0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk9PSEVBRCIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiT0FDT05PIiwgIk9BT1JOTyIsICJPQUNVTk8iLCAiT0FGQUNJIiwgIk9BT1JUUCIsICJPQU9SRFQiLCAiT0FXQ09OIiwgIk9BQURJRCIsICJPQUxOQ0QiKS5idWlsZCgpICAgIA0KICAgIGRlZiBPT0hFQUQgPSBxdWVyeS5nZXRDb250YWluZXIoKQ0KICAgIE9PSEVBRC5zZXQoIk9BQ09OTyIsIENPTk8pDQogICAgT09IRUFELnNldCgiT0FPUk5PIiwgT1JOTykNCg0KICAgIGlmKHF1ZXJ5LnJlYWQoT09IRUFEKSkgIHsgDQogICAgICByZXR1cm4gT3B0aW9uYWwub2YoT09IRUFEKQ0KICAgIH0gDQogIA0KICAgIHJldHVybiBPcHRpb25hbC5lbXB0eSgpDQogIH0NCg0KDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIC8vIEdldCBPcmRlciBMaW5lIEluZm8gT09MSU5FDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIHByaXZhdGUgT3B0aW9uYWw8REJDb250YWluZXI+IGZpbmRPT0xJTkUoSW50ZWdlciBDT05PLCBTdHJpbmcgT1JOTywgSW50ZWdlciBQT05SLCBJbnRlZ2VyIFBPU1gpeyAgDQogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiT09MSU5FIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJPQkNPTk8iLCAiT0JPUk5PIiwgIk9CUE9OUiIsICJPQlBPU1giLCAiT0JBRElEIiwgIk9CUlNDRCIsICJPQlNNQ0QiLCAiT0JPRk5PIiwgIk9CQUdOTyIsICJPQkFUTlIiKS5idWlsZCgpICAgIA0KICAgIGRlZiBPT0xJTkUgPSBxdWVyeS5nZXRDb250YWluZXIoKQ0KICAgIE9PTElORS5zZXQoIk9CQ09OTyIsIENPTk8pDQogICAgT09MSU5FLnNldCgiT0JPUk5PIiwgT1JOTykNCiAgICBPT0xJTkUuc2V0KCJPQlBPTlIiLCBQT05SKQ0KICAgIE9PTElORS5zZXQoIk9CUE9TWCIsIFBPU1gpDQoNCiAgICBpZihxdWVyeS5yZWFkKE9PTElORSkpICB7IA0KICAgICAgcmV0dXJuIE9wdGlvbmFsLm9mKE9PTElORSkNCiAgICB9IA0KICANCiAgICByZXR1cm4gT3B0aW9uYWwuZW1wdHkoKQ0KICB9DQoNCg0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAvLyBHZXQgSXRlbSBpbmZvcm1hdGlvbiBNSVRNQVMNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiBwcml2YXRlIE9wdGlvbmFsPERCQ29udGFpbmVyPiBmaW5kTUlUTUFTKEludGVnZXIgQ09OTywgU3RyaW5nIElUTk8peyAgDQogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTUlUTUFTIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJNTUNPTk8iLCAiTU1JVE5PIiwgIk1NSVREUyIsICJNTUhJRTEiLCAiTU1ISUUyIiwgIk1NSElFMyIsICJNTUhJRTQiLCAiTU1ISUU1IikuYnVpbGQoKSAgICAgDQogICAgZGVmIE1JVE1BUyA9IHF1ZXJ5LmdldENvbnRhaW5lcigpDQogICAgTUlUTUFTLnNldCgiTU1DT05PIiwgQ09OTykNCiAgICBNSVRNQVMuc2V0KCJNTUlUTk8iLCBJVE5PKQ0KICAgIA0KICAgIGlmKHF1ZXJ5LnJlYWQoTUlUTUFTKSkgIHsgDQogICAgICByZXR1cm4gT3B0aW9uYWwub2YoTUlUTUFTKQ0KICAgIH0gDQogIA0KICAgIHJldHVybiBPcHRpb25hbC5lbXB0eSgpDQogIH0NCiAgDQoNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgLy8gR2V0IFRFREwgdGV4dCBmcm9tIENTWVRBQg0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KIHByaXZhdGUgT3B0aW9uYWw8REJDb250YWluZXI+IGZpbmRDU1lUQUIoSW50ZWdlciBDT05PLCBTdHJpbmcgU1RLWSwgU3RyaW5nIExOQ0QpeyAgDQogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiQ1NZVEFCIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJDVENPTk8iLCAiQ1RESVZJIiwgIkNUU1RDTyIsICJDVFNUS1kiLCAiQ1RMTkNEIiwgIkNUUEFSTSIpLmJ1aWxkKCkgICAgIA0KICAgIGRlZiBDU1lUQUIgPSBxdWVyeS5nZXRDb250YWluZXIoKQ0KICAgIENTWVRBQi5zZXQoIkNUQ09OTyIsIENPTk8pDQogICAgQ1NZVEFCLnNldCgiQ1RESVZJIiwgIiIpDQogICAgQ1NZVEFCLnNldCgiQ1RTVENPIiwgIlRFREwiKQ0KICAgIENTWVRBQi5zZXQoIkNUU1RLWSIsIFNUS1kpDQogICAgQ1NZVEFCLnNldCgiQ1RMTkNEIiwgTE5DRCkNCiAgICANCiAgICBpZihxdWVyeS5yZWFkKENTWVRBQikpICB7IA0KICAgICAgcmV0dXJuIE9wdGlvbmFsLm9mKENTWVRBQikNCiAgICB9IA0KICANCiAgICByZXR1cm4gT3B0aW9uYWwuZW1wdHkoKQ0KICB9DQogIA0KICANCiAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogICAvLyBHZXQgRGVsaXZlcnkgQWRkcmVzcyB1c2luZyBNV1M0MTBNSS5HZXRBZHINCiAgIC8vIElucHV0IA0KICAgLy8gQ29tcGFueQ0KICAgLy8gRGVsaXZlcnkgTnVtYmVyDQogICAvLyBBZGRyZXNzIFR5cGUNCiAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogICBwcml2YXRlIGdldERlbGl2ZXJ5QWRkcmVzcyhTdHJpbmcgY29tcGFueSwgU3RyaW5nIGRlbGl2ZXJ5TnVtYmVyLCBTdHJpbmcgQWRkcmVzc1R5cGUpeyAgIA0KICAgICAgICBkZWYgcGFyYW1zID0gW0NPTk86IGNvbXBhbnlTdHJpbmcsIERMSVg6IGRlbGl2ZXJ5TnVtYmVyU3RyaW5nLCBBRFJUOiAiMDIiXSANCiAgICAgICAgU3RyaW5nIG5hbWUgPSBudWxsDQogICAgICAgIFN0cmluZyB0b3duID0gbnVsbA0KICAgICAgICBTdHJpbmcgY291bnRyeSA9IG51bGwNCiAgICAgICAgU3RyaW5nIHBvc3RhbENvZGUgPSBudWxsDQogICAgICAgIGRlZiBjYWxsYmFjayA9IHsNCiAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgICBpZihyZXNwb25zZS5OQU1FICE9IG51bGwpew0KICAgICAgICAgIG5hbWUgPSByZXNwb25zZS5OQU1FIA0KICAgICAgICB9DQogICAgICAgIGlmKHJlc3BvbnNlLlRPV04gIT0gbnVsbCl7DQogICAgICAgICAgdG93biA9IHJlc3BvbnNlLlRPV04gIA0KICAgICAgICB9DQogICAgICAgIGlmKHJlc3BvbnNlLkNTQ0QgIT0gbnVsbCl7DQogICAgICAgICAgY291bnRyeSA9IHJlc3BvbnNlLkNTQ0QgIA0KICAgICAgICB9DQogICAgICAgIGlmKHJlc3BvbnNlLlBPTk8gIT0gbnVsbCl7DQogICAgICAgICAgcG9zdGFsQ29kZSA9IHJlc3BvbnNlLlBPTk8gIA0KICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBtaUNhbGxlci5jYWxsKCJNV1M0MTBNSSIsIkdldEFkciIsIHBhcmFtcywgY2FsbGJhY2spDQogICAgICANCiAgICAgICAgb3V0TkFNRSA9IG5hbWUNCiAgICAgICAgb3V0VE9XTiA9IHRvd24NCiAgICAgICAgb3V0Q1NDRCA9IGNvdW50cnkNCiAgICAgICAgb3V0UE9OTyA9IHBvc3RhbENvZGUNCiAgIH0gDQoNCiAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogICAvLyBHZXQgY2FsY3VsYXRlZCBpbmZvIGZyb20gdGhlIGRlbCBvcmRlciBsaW5lIHVzaW5nIE9JUzM1ME1JLkdldERlbExpbmUNCiAgIC8vIElucHV0IA0KICAgLy8gQ29tcGFueQ0KICAgLy8gT3JkZXIgTnVtYmVyDQogICAvLyBEZWxpdmVyeSBOdW1iZXINCiAgIC8vIFdhcmVob3VzZQ0KICAgLy8gTGluZSBOdW1iZXINCiAgIC8vIExpbmUgU3VmZml4DQogICAvLyBQYXltZW50IFRlcm1zDQogICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAgcHJpdmF0ZSBnZXRBZGRpdGlvbmFsRGVsTGluZUluZm8oU3RyaW5nIGNvbXBhbnksIFN0cmluZyBvcmRlck51bWJlciwgU3RyaW5nIGRlbGl2ZXJ5TnVtYmVyLCBTdHJpbmcgd2FyZWhvdXNlLCBTdHJpbmcgb3JkZXJMaW5lLCBTdHJpbmcgb3JkZXJMaW5lU3VmZml4LCBTdHJpbmcgcGF5bWVudFRlcm1zKXsgICANCiAgICAgICAgZGVmIHBhcmFtcyA9IFtDT05POiBjb21wYW55U3RyaW5nLCBPUk5POiBvcmRlck51bWJlciwgRExJWDogZGVsaXZlcnlOdW1iZXJTdHJpbmcsIFdITE86IHdhcmVob3VzZSwgUE9OUjogb3JkZXJMaW5lLCBQT1NYOiBvcmRlckxpbmVTdWZmaXgsIFRFUFk6IHBheW1lbnRUZXJtc10gDQogICAgICAgIFN0cmluZyBpbnZRdHkgPSBudWxsDQogICAgICAgIFN0cmluZyBkZWxRdHkgPSBudWxsDQogICAgICAgIFN0cmluZyBjb3N0QW1vdW50ID0gbnVsbA0KICAgICAgICBkZWYgY2FsbGJhY2sgPSB7DQogICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gcmVzcG9uc2UgLT4NCiAgICAgICAgaWYocmVzcG9uc2UuUVRZNCAhPSBudWxsKXsNCiAgICAgICAgICBpbnZRdHkgPSByZXNwb25zZS5RVFk0IA0KICAgICAgICB9DQogICAgICAgIGlmKHJlc3BvbnNlLlFUWTYgIT0gbnVsbCl7DQogICAgICAgICAgZGVsUXR5ID0gcmVzcG9uc2UuUVRZNiAgDQogICAgICAgIH0NCiAgICAgICAgaWYocmVzcG9uc2UuRENPUyAhPSBudWxsKXsNCiAgICAgICAgIGNvc3RBbW91bnQgPSByZXNwb25zZS5EQ09TICANCiAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgbWlDYWxsZXIuY2FsbCgiT0lTMzUwTUkiLCJHZXREZWxMaW5lIiwgcGFyYW1zLCBjYWxsYmFjaykNCiAgICAgIA0KICAgICAgICBvdXRRVFk0ID0gaW52UXR5DQogICAgICAgIG91dFFUWTYgPSBkZWxRdHkNCiAgICAgICAgb3V0RENPUyA9IGNvc3RBbW91bnQNCiAgIH0gDQoNCiAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogICAvLyBHZXQgZGl2aXNpb24gcmVsYXRlZCBpbmZvIGZyb20gTU5TMTUwTUkuR2V0QmFzaWNEYXRhDQogICAvLyBJbnB1dCANCiAgIC8vIENvbXBhbnkNCiAgIC8vIERlbGl2ZXJ5IE51bWJlcg0KICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgIHByaXZhdGUgZ2V0RGl2aXNpb25JbmZvKFN0cmluZyBjb21wYW55LCBTdHJpbmcgZGl2aXNpb24peyAgIA0KICAgICAgICBkZWYgcGFyYW1zID0gW0NPTk86IGNvbXBhbnlTdHJpbmcsIERJVkk6IGRpdmlzaW9uXSANCiAgICAgICAgU3RyaW5nIGxvY2FsQ3VycmVuY3kgPSBudWxsDQogICAgICAgIGRlZiBjYWxsYmFjayA9IHsNCiAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgICBpZihyZXNwb25zZS5MT0NEICE9IG51bGwpew0KICAgICAgICAgIGxvY2FsQ3VycmVuY3kgPSByZXNwb25zZS5MT0NEDQogICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIG1pQ2FsbGVyLmNhbGwoIk1OUzEwME1JIiwiR2V0QmFzaWNEYXRhIiwgcGFyYW1zLCBjYWxsYmFjaykNCiAgICAgIA0KICAgICAgICBvdXRMT0NEID0gbG9jYWxDdXJyZW5jeQ0KICAgfSANCg0KDQogICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAgLy8gR2V0IGNhbGN1bGF0ZWQgaW5mbyBmcm9tIHRoZSBkZWwgb3JkZXIgbGluZSB1c2luZyBPSVMzNTBNSS5Mc3RJbnZMaW5lQnlUeXAgICAgDQogICAvLyBJbnB1dCANCiAgIC8vIENvbXBhbnkNCiAgIC8vIERpdmlzaW9uDQogICAvLyBZZWFyDQogICAvLyBJbnZvaWNlIE51bWJlcg0KICAgLy8gSW5mb3JtYXRpb24gVHlwZQ0KICAgLy8gSW52b2ljZSBQcmVmaXgNCiAgIC8vIEV4dGVuZGVkIEludm9pY2UgTnVtYmVyDQogICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAgcHJpdmF0ZSBnZXRJbnZvaWNlQ2hhcmdlcyhTdHJpbmcgY29tcGFueVN0cmluZywgU3RyaW5nIGRpdmlzaW9uLCBTdHJpbmcgeWVhciwgU3RyaW5nIGludm9pY2VOdW1iZXJTdHJpbmcsIFN0cmluZyBpbmZvcm1hdGlvblR5cGUsIFN0cmluZyBpbnZvaWNlUHJlZml4LCBTdHJpbmcgZXh0SW52b2ljZU51bWJlcil7ICAgDQogICAgICAgIGRlZiBwYXJhbXMgPSBbQ09OTzogY29tcGFueVN0cmluZywgRElWSTogZGl2aXNpb24sIFlFQTQ6IHllYXIsIElWTk86IGludm9pY2VOdW1iZXJTdHJpbmcsIElWVFA6IGluZm9ybWF0aW9uVHlwZSwgSU5QWDogaW52b2ljZVByZWZpeCwgRVhJTjogZXh0SW52b2ljZU51bWJlcl0gDQogICAgICAgIGRlZiBjYWxsYmFjayA9IHsNCiAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgICBpZihyZXNwb25zZS5BTVQxICE9IG51bGwpew0KICAgICAgICAgIGludkNoYXJnZSA9IHJlc3BvbnNlLkFNVDEgDQogICAgICAgIH0NCiAgICAgICAgaWYocmVzcG9uc2UuSVZSRiAhPSBudWxsKXsNCiAgICAgICAgICBpbnZSZWZlcmVuY2UgPSByZXNwb25zZS5JVlJGIA0KICAgICAgICB9DQoNCiAgICAgICAgfQ0KDQogICAgICAgIG1pQ2FsbGVyLmNhbGwoIk9JUzM1ME1JIiwiTHN0SW52TGluZUJ5VHlwIiwgcGFyYW1zLCBjYWxsYmFjaykNCiAgIH0gDQogICANCiAgIA0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAvLyBHZXQgQXR0cmlidXRlIGZyb20gTU9BVFRSDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogcHJpdmF0ZSBPcHRpb25hbDxEQkNvbnRhaW5lcj4gZmluZE1PQVRUUihJbnRlZ2VyIENPTk8sIGxvbmcgQVROUiwgU3RyaW5nIEFUSUQsIFN0cmluZyBBVlNRKXsgIA0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk1PQVRUUiIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiQUhDT05PIiwgIkFIQVROUiIsICJBSEFUSUQiLCAiQUhBVlNRIiwgIkFIQVRBViIpLmJ1aWxkKCkgIA0KICAgIGRlZiBNT0FUVFIgPSBxdWVyeS5nZXRDb250YWluZXIoKQ0KICAgIE1PQVRUUi5zZXQoIkFIQ09OTyIsIENPTk8pDQogICAgTU9BVFRSLnNldCgiQUhBVE5SIiwgQVROUikNCiAgICBNT0FUVFIuc2V0KCJBSEFUSUQiLCAiRk9DVVMiKQ0KICAgIE1PQVRUUi5zZXQoIkFIQVZTUSIsIDApDQogICAgDQogICAgaWYocXVlcnkucmVhZChNT0FUVFIpKSAgeyANCiAgICAgIHJldHVybiBPcHRpb25hbC5vZihNT0FUVFIpDQogICAgfSANCiAgDQogICAgcmV0dXJuIE9wdGlvbmFsLmVtcHR5KCkNCiAgfQ0KDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIC8vIEdldCBMYXN0IEludm9pY2UgTnVtYmVyIGZyb20gQ1VHRVgzDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogcHJpdmF0ZSBPcHRpb25hbDxEQkNvbnRhaW5lcj4gZmluZENVR0VYMyhJbnRlZ2VyIENPTk8sIFN0cmluZyBLUElELCBTdHJpbmcgUEswMSwgU3RyaW5nIFBLMDIsIFN0cmluZyBQSzAzKXsgIA0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkNVR0VYMyIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiRjNDT05PIiwgIkYzS1BJRCIsICJGM1BLMDEiLCAiRjNQSzAyIiwgIkYzUEswMyIsICJGM0EwMzAiLCAiRjNBMTMwIikuYnVpbGQoKSAgDQogICAgZGVmIENVR0VYMyA9IHF1ZXJ5LmdldENvbnRhaW5lcigpDQogICAgQ1VHRVgzLnNldCgiRjNDT05PIiwgQ09OTykNCiAgICBDVUdFWDMuc2V0KCJGM0tQSUQiLCBLUElEKQ0KICAgIENVR0VYMy5zZXQoIkYzUEswMSIsIFBLMDEpDQogICAgQ1VHRVgzLnNldCgiRjNQSzAyIiwgUEswMikNCiAgICBDVUdFWDMuc2V0KCJGM1BLMDMiLCBQSzAzKQ0KICAgIA0KICAgIGlmKHF1ZXJ5LnJlYWQoQ1VHRVgzKSkgIHsgDQogICAgICByZXR1cm4gT3B0aW9uYWwub2YoQ1VHRVgzKQ0KICAgIH0gDQogIA0KICAgIHJldHVybiBPcHRpb25hbC5lbXB0eSgpDQogIH0NCiAgDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIC8vIFVwZGF0ZSBMYXN0IEludm9pY2UgTnVtYmVyIGluIENVR0VYMw0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICB2b2lkIHVwZGF0ZUNVR0VYM1JlY29yZChpbnQgQ09OTywgU3RyaW5nIEtQSUQsIFN0cmluZyBQSzAxLCBTdHJpbmcgUEswMiwgU3RyaW5nIFBLMDMpeyAgDQogICAgIERCQWN0aW9uIGFjdGlvbiA9IGRhdGFiYXNlLnRhYmxlKCJDVUdFWDMiKS5pbmRleCgiMDAiKS5zZWxlY3RBbGxGaWVsZHMoKS5idWlsZCgpDQogICAgIERCQ29udGFpbmVyIENVR0VYMyA9IGFjdGlvbi5jcmVhdGVDb250YWluZXIoKQ0KICAgICBDVUdFWDMuc2V0KCJGM0NPTk8iLCBDT05PKQ0KICAgICBDVUdFWDMuc2V0KCJGM0tQSUQiLCBLUElEKQ0KICAgICBDVUdFWDMuc2V0KCJGM1BLMDEiLCBQSzAxKQ0KICAgICBDVUdFWDMuc2V0KCJGM1BLMDIiLCBQSzAyKQ0KICAgICBDVUdFWDMuc2V0KCJGM1BLMDMiLCBQSzAzKQ0KDQogICAgIC8vIFJlYWQgd2l0aCBsb2NrDQogICAgIGFjdGlvbi5yZWFkTG9jayhDVUdFWDMsIHVwZGF0ZUNhbGxCYWNrQ1VHRVgzKQ0KICB9DQoNCiAgICANCiAgQ2xvc3VyZTw/PiB1cGRhdGVDYWxsQmFja0NVR0VYMyA9IHsgTG9ja2VkUmVzdWx0IGxvY2tlZFJlc3VsdCAtPiANCiAgICAgDQogICAgIGlmKGxhc3RFeHBvcnRlZEludm9pY2VOdW1iZXJFbmQgIT0gbnVsbCl7ICANCiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRjNBMDMwIiwgbGFzdEV4cG9ydGVkSW52b2ljZU51bWJlckVuZCkgDQogICAgIH0NCg0KICAgICAgLy8gR2V0IHRvZGF5cyBkYXRlDQogICAgIExvY2FsRGF0ZVRpbWUgbm93ID0gTG9jYWxEYXRlVGltZS5ub3coKTsgICAgDQogICAgIERhdGVUaW1lRm9ybWF0dGVyIGZvcm1hdDEgPSBEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIik7ICANCiAgICAgU3RyaW5nIGZvcm1hdERhdGUgPSBub3cuZm9ybWF0KGZvcm1hdDEpOyAgICANCiAgICAgDQogICAgIGludCBjaGFuZ2VObyA9IGxvY2tlZFJlc3VsdC5nZXQoIkYzQ0hOTyIpDQogICAgIGludCBuZXdDaGFuZ2VObyA9IGNoYW5nZU5vICsgMSANCg0KICAgICAvLyBVcGRhdGUgY2hhbmdlZCBpbmZvcm1hdGlvbg0KICAgICBpbnQgY2hhbmdlZGRhdGU9SW50ZWdlci5wYXJzZUludChmb3JtYXREYXRlKTsgICANCiAgICAgbG9ja2VkUmVzdWx0LnNldCgiRjNMTURUIiwgY2hhbmdlZGRhdGUpICANCiAgICAgIA0KICAgICBsb2NrZWRSZXN1bHQuc2V0KCJGM0NITk8iLCBuZXdDaGFuZ2VObykgDQogICAgIGxvY2tlZFJlc3VsdC5zZXQoIkYzQ0hJRCIsIHByb2dyYW0uZ2V0VXNlcigpKQ0KICAgICBsb2NrZWRSZXN1bHQudXBkYXRlKCkNCiAgfQ0KIA0KDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIC8vIENoZWNrIGlmIG51bGwgb3IgZW1wdHkNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAgDQogICBwdWJsaWMgIGJvb2xlYW4gaXNOdWxsT3JFbXB0eShTdHJpbmcga2V5KSB7DQogICAgICAgIGlmKGtleSAhPSBudWxsICYmICFrZXkuaXNFbXB0eSgpKQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogICAgDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIC8vIEdldCBkYXRlIGluIHl5eXlNTWRkIGZvcm1hdA0KICAvLyBAcmV0dXJuIGRhdGUNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgcHVibGljIFN0cmluZyBjdXJyZW50RGF0ZVk4QXNTdHJpbmcoKSB7DQogICAgcmV0dXJuIExvY2FsRGF0ZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKQ0KICB9DQoNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgLy8gR2V0IGRhdGUgaW4geXl5eSBmb3JtYXQNCiAgLy8gQHJldHVybiB5ZWFyDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIHB1YmxpYyBTdHJpbmcgY3VycmVudFllYXJBc1N0cmluZygpIHsNCiAgICByZXR1cm4gTG9jYWxEYXRlLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXkiKSkNCiAgfQ0KDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIC8vIEdldCBjdXJyZW50IHJhdGUNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgcHJpdmF0ZSBPcHRpb25hbDxTdHJpbmc+IGdldEN1cnJlbmN5UmF0ZShTdHJpbmcgY29ubywgU3RyaW5nIGRpdmksIFN0cmluZyBjdWNkLCBTdHJpbmcgZGF0ZSkgew0KICAgIE9wdGlvbmFsPFN0cmluZz4gciA9IE9wdGlvbmFsLmVtcHR5KCkgDQogICAgZGVmIHBhcmFtcyA9IFsiQ09OTyI6Y29ubywgIkZEREkiOiBkaXZpLCAiVE9ESSI6IGRpdmksICJGQ1VSIjogY3VjZCwgIlRDVVIiOiBjdWNkLCAiQ1JUUCI6ICIxIi50b1N0cmluZygpLCAiQ1VURCI6IGRhdGVdIC8vIHRvU3RyaW5nIGlzIG5lZWRlZCB0byBjb252ZXJ0IGZyb20gZ3N0cmluZyB0byBzdHJpbmcNCiAgICBTdHJpbmcgY3VzdG9tZXIgPSBudWxsDQogICAgZGVmIGNhbGxiYWNrID0gew0KICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gcmVzcG9uc2UgLT4NCiAgICAgIGlmKHJlc3BvbnNlLkFSQVQgIT0gbnVsbCl7DQogICAgICAgIHIgPSBPcHRpb25hbC5vZihyZXNwb25zZS5BUkFULnRvU3RyaW5nKCkpDQogICAgICB9DQogICAgfQ0KICAgIA0KICAgIG1pQ2FsbGVyLmNhbGwoIkNSUzA1NU1JIiwiU2VsRXhjaGFuZ2VSYXRlIiwgcGFyYW1zLCBjYWxsYmFjaykNCiAgICANCiAgICByZXR1cm4gcg0KICAgIA0KICB9DQoNCiAgICANCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgLy8gU2V0IE91dHB1dCBkYXRhDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIHZvaWQgc2V0T3V0cHV0KCkgew0KICAgIG1pLm91dERhdGEucHV0KCJJVk5PIiwgb3V0SVZOTykNCiAgICBtaS5vdXREYXRhLnB1dCgiSVZEVCIsIG91dElWRFQpDQogICAgbWkub3V0RGF0YS5wdXQoIkNVTk8iLCBvdXRDVU5PKQ0KICAgIG1pLm91dERhdGEucHV0KCJDVUNEIiwgb3V0Q1VDRCkgIA0KICAgIG1pLm91dERhdGEucHV0KCJURVBZIiwgb3V0VEVQWSkgIA0KICAgIG1pLm91dERhdGEucHV0KCJJVE5PIiwgb3V0SVROTykgIA0KICAgIG1pLm91dERhdGEucHV0KCJJVERTIiwgb3V0SVREUykgIA0KICAgIG1pLm91dERhdGEucHV0KCJMVFlQIiwgb3V0TFRZUCkgIA0KICAgIG1pLm91dERhdGEucHV0KCJTUFVOIiwgb3V0U1BVTikgIA0KICAgIG1pLm91dERhdGEucHV0KCJRVFk2Iiwgb3V0UVRZNikgIA0KICAgIG1pLm91dERhdGEucHV0KCJRVFk0Iiwgb3V0UVRZNCkgIA0KICAgIG1pLm91dERhdGEucHV0KCJEQ09TIiwgb3V0RENPUykNCiAgICBtaS5vdXREYXRhLnB1dCgiU0FQUiIsIG91dFNBUFIpDQogICAgbWkub3V0RGF0YS5wdXQoIk5FUFIiLCBvdXRORVBSKQ0KICAgIG1pLm91dERhdGEucHV0KCJMTkFNIiwgb3V0TE5BTSkNCiAgICBtaS5vdXREYXRhLnB1dCgiSElFMSIsIG91dEhJRTEpDQogICAgbWkub3V0RGF0YS5wdXQoIkhJRTIiLCBvdXRISUUyKQ0KICAgIG1pLm91dERhdGEucHV0KCJISUUzIiwgb3V0SElFMykNCiAgICBtaS5vdXREYXRhLnB1dCgiSElFNCIsIG91dEhJRTQpDQogICAgbWkub3V0RGF0YS5wdXQoIkhJRTUiLCBvdXRISUU1KQ0KICAgIG1pLm91dERhdGEucHV0KCJGQUNJIiwgb3V0RkFDSSkNCiAgICBtaS5vdXREYXRhLnB1dCgiT1JUUCIsIG91dE9SVFApDQogICAgbWkub3V0RGF0YS5wdXQoIk9STk8iLCBvdXRPUk5PKQ0KICAgIG1pLm91dERhdGEucHV0KCJXQ09OIiwgb3V0V0NPTikNCiAgICBtaS5vdXREYXRhLnB1dCgiQURJRCIsIG91dEFESUQpDQogICAgbWkub3V0RGF0YS5wdXQoIlJTQ0QiLCBvdXRSU0NEKQ0KICAgIG1pLm91dERhdGEucHV0KCJTTUNEIiwgb3V0U01DRCkNCiAgICBtaS5vdXREYXRhLnB1dCgiT0ZOTyIsIG91dE9GTk8pDQogICAgbWkub3V0RGF0YS5wdXQoIk9SRFQiLCBvdXRPUkRUKQ0KICAgIG1pLm91dERhdGEucHV0KCJBR05PIiwgb3V0QUdOTykNCiAgICBtaS5vdXREYXRhLnB1dCgiT1JTVCIsIG91dE9SU1QpDQogICAgbWkub3V0RGF0YS5wdXQoIk5BTUUiLCBvdXROQU1FKQ0KICAgIG1pLm91dERhdGEucHV0KCJUT1dOIiwgb3V0VE9XTikNCiAgICBtaS5vdXREYXRhLnB1dCgiQ1NDRCIsIG91dENTQ0QpDQogICAgbWkub3V0RGF0YS5wdXQoIlBPTk8iLCBvdXRQT05PKQ0KICAgIG1pLm91dERhdGEucHV0KCJMT0NEIiwgb3V0TE9DRCkNCiAgICBtaS5vdXREYXRhLnB1dCgiRExJWCIsIG91dERMSVgpDQogICAgbWkub3V0RGF0YS5wdXQoIkFUVk4iLCBvdXRBVEFWKQ0KICAgIG1pLm91dERhdGEucHV0KCJZRUE0Iiwgb3V0WUVBNCkNCiAgICBtaS5vdXREYXRhLnB1dCgiSVZEVCIsIG91dElWRFQpDQogICAgbWkub3V0RGF0YS5wdXQoIlRFREwiLCBvdXRURURMKQ0KICAgIG1pLm91dERhdGEucHV0KCJURUwxIiwgb3V0VEVMMSkNCiAgICBtaS5vdXREYXRhLnB1dCgiUE9OUiIsIG91dFBPTlIpICAgIA0KICAgIG1pLm91dERhdGEucHV0KCJESVNDIiwgb3V0RElTQykgICAgDQogICAgbWkub3V0RGF0YS5wdXQoIkRJU00iLCBvdXRESVNNKSAgICANCiAgICBtaS5vdXREYXRhLnB1dCgiQ0hHSCIsIG91dENIR0gpICAgIA0KICAgIG1pLm91dERhdGEucHV0KCJDSEdGIiwgb3V0Q0hHRikgICAgDQogICAgbWkub3V0RGF0YS5wdXQoIkNIR08iLCBvdXRDSEdPKSAgICANCiAgICBtaS5vdXREYXRhLnB1dCgiQUdOSCIsIG91dEFHTkgpICAgIA0KICAgIG1pLm91dERhdGEucHV0KCJQWU5PIiwgb3V0UFlOTykgDQogICAgbWkub3V0RGF0YS5wdXQoIkFSQVQiLCBvdXRBUkFUKQ0KICAgIG1pLm91dERhdGEucHV0KCJXSExPIiwgb3V0V0hMTykNCiAgICBtaS5vdXREYXRhLnB1dCgiVUNBMiIsIG91dFVDQTIpDQogICAgbWkub3V0RGF0YS5wdXQoIlVDQTMiLCBvdXRVQ0EzKQ0KICAgIG1pLm91dERhdGEucHV0KCJFWElOIiwgb3V0RVhJTikNCiAgICBsYXN0RXhwb3J0ZWRJbnZvaWNlTnVtYmVyRW5kID0gb3V0SVZOTw0KICAgIC8vbGFzdEV4cG9ydGVkSW52b2ljZU51bWJlckVuZCArKw0KICB9IA0KICAgIA0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAvLyBMaXN0IGFsbCBpbmZvcm1hdGlvbg0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICANCiAgIHZvaWQgbHN0SW52b2ljZUxpbmVzKCl7ICAgDQogICAgIA0KICAgICAvLyBMaXN0IGFsbCBJbnZvaWNlIERlbGl2ZXJ5IExpbmVzDQogICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cHJlc3Npb24gPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiT0RMSU5FIikNCiAgIA0KICAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5lcSgiVUJESVZJIiwgaW5ESVZJKS5hbmQoZXhwcmVzc2lvbi5ndCgiVUJJVk5PIiwgbGFzdEV4cG9ydGVkSW52b2ljZU51bWJlclN0YXJ0LnRyaW0oKSkpLmFuZChleHByZXNzaW9uLmx0KCJVQklWTk8iLCBsYXN0RXhwb3J0ZWRJbnZvaWNlTnVtYmVyTWF4LnRyaW0oKSkpICANCg0KICAgICAvLyBMaXN0IEludm9pY2UgRGVsaXZlcnkgTGluZXMgICANCiAgICAgREJBY3Rpb24gYWN0aW9ubGluZSA9IGRhdGFiYXNlLnRhYmxlKCJPRExJTkUiKS5pbmRleCgiMjAiKS5tYXRjaGluZyhleHByZXNzaW9uKS5zZWxlY3Rpb24oIlVCQ09OTyIsICJVQkxNRFQiLCAiVUJPUk5PIiwgIlVCUE9OUiIsICJVQlBPU1giLCAiVUJXSExPIiwgIlVCVEVQWSIsICJVQklWTk8iLCAiVUJJVE5PIiwgIlVCTFRZUCIsICJVQlNQVU4iLCAiVUJTQVBSIiwgIlVCTkVQUiIsICJVQkxOQU0iLCAiVUJEQ09TIiwgIlVCRElQMSIsICJVQkRJUDIiLCAiVUJESVAzIiwgIlVCRElQNCIsICJVQkRJUDUiLCAiVUJESVA2IiwgIlVCRVhJTiIsICJVQklOUFgiLCAiVUJZRUE0IikuYnVpbGQoKSAgICAgDQoNCiAgICAgREJDb250YWluZXIgbGluZSA9IGFjdGlvbmxpbmUuZ2V0Q29udGFpbmVyKCkgIA0KICAgICANCiAgICAgLy8gUmVhZCB3aXRoIG9uZSBrZXkgIA0KICAgICBsaW5lLnNldCgiVUJDT05PIiwgQ09OTykgIA0KICAgICANCiAgICAgaW50IHBhZ2VTaXplID0gbWkuZ2V0TWF4UmVjb3JkcygpIDw9IDAgPyAxMDAwIDogbWkuZ2V0TWF4UmVjb3JkcygpICAgICAgICAgICANCg0KICAgICBhY3Rpb25saW5lLnJlYWRBbGwobGluZSwgMSwgcGFnZVNpemUsIHJlbGVhc2VkTGluZVByb2Nlc3NvcikgICANCiAgIA0KICAgfSANCiANCg0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAvLyBMaXN0IE9yZGVyIERlbGl2ZXJ5IExuZXMgLSBtYWluIGxvb3AgLSBPRExJTkUNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAgDQogIENsb3N1cmU8Pz4gcmVsZWFzZWRMaW5lUHJvY2Vzc29yID0geyBEQkNvbnRhaW5lciBsaW5lIC0+ICAgDQogIA0KICAvLyBGaWVsZHMgZnJvbSBPREhFQUQgdG8gdXNlIGluIHRoZSBvdGhlciByZWFkDQogIGNvbXBhbnkgPSBsaW5lLmdldCgiVUJDT05PIikNCiAgZGVsaXZlcnlOdW1iZXIgPSBsaW5lLmdldCgiVUJETElYIikgDQogIGludm9pY2VOdW1iZXIgPSBsaW5lLmdldCgiVUJJVk5PIikgDQogIGludm9pY2VOdW1iZXJTdHJpbmcgPSBsaW5lLmdldCgiVUJJVk5PIikgIA0KICBvcmRlck51bWJlciA9IGxpbmUuZ2V0KCJVQk9STk8iKQ0KICBvcmRlckxpbmUgPSBsaW5lLmdldCgiVUJQT05SIikNCiAgb3JkZXJMaW5lU3VmZml4ID0gbGluZS5nZXQoIlVCUE9TWCIpDQogIHBheW1lbnRUZXJtcyA9IGxpbmUuZ2V0KCJVQlRFUFkiKQ0KICB3YXJlaG91c2UgPSBsaW5lLmdldCgiVUJXSExPIikNCiAgaXRlbU51bWJlciA9IGxpbmUuZ2V0KCJVQklUTk8iKQ0KICBvcmRlckxpbmVTdHJpbmcgPSBsaW5lLmdldCgiVUJQT05SIikNCiAgb3JkZXJMaW5lU3VmZml4U3RyaW5nID0gbGluZS5nZXQoIlVCUE9TWCIpDQogIHNhbGVzUHJpY2UgPSBsaW5lLmdldCgiVUJTQVBSIikNCiAgbmV0UHJpY2UgPSBsaW5lLmdldCgiVUJORVBSIikNCiAgbGluZUFtb3VudCA9IGxpbmUuZ2V0KCJVQkxOQU0iKQ0KICBleHRJbnZvaWNlTnVtYmVyID0gbGluZS5nZXQoIlVCRVhJTiIpICANCiAgZGlzY291bnQxID0gbGluZS5nZXQoIlVCRElQMSIpICAgICANCiAgZGlzY291bnQyID0gbGluZS5nZXQoIlVCRElQMiIpICAgICANCiAgZGlzY291bnQzID0gbGluZS5nZXQoIlVCRElQMyIpICAgICANCiAgZGlzY291bnQ0ID0gbGluZS5nZXQoIlVCRElQNCIpICAgICANCiAgZGlzY291bnQ1ID0gbGluZS5nZXQoIlVCRElQNSIpICAgICANCiAgZGlzY291bnQ2ID0gbGluZS5nZXQoIlVCRElQNiIpICAgIA0KDQogIC8vU3VtIG9mIGRpc2NvdW50cw0KICBkaXNjb3VudFN1bSA9IDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICBkaXNjb3VudFN1bSA9IGRpc2NvdW50MSArIGRpc2NvdW50MiArIGRpc2NvdW50MyArIGRpc2NvdW50NSArIGRpc2NvdW50NiAgICAgIA0KICANCiAgLy8gR2V0IERlbGl2ZXJ5IEhlYWQgSW5mbyANCiAgT3B0aW9uYWw8REJDb250YWluZXI+IE9ESEVBRCA9IGZpbmRPREhFQUQoY29tcGFueSwgb3JkZXJOdW1iZXIsIHdhcmVob3VzZSwgZGVsaXZlcnlOdW1iZXIsIHBheW1lbnRUZXJtcykNCiAgaWYoT0RIRUFELmlzUHJlc2VudCgpKXsNCiAgICAvLyBSZWNvcmQgZm91bmQsIGNvbnRpbnVlIHRvIGdldCBpbmZvcm1hdGlvbiAgDQogICAgREJDb250YWluZXIgY29udGFpbmVyT0RIRUFEID0gT0RIRUFELmdldCgpIA0KICAgIA0KICAgIGNvbXBhbnlTdHJpbmcgPSBjb250YWluZXJPREhFQUQuZ2V0KCJVQUNPTk8iKSANCiAgICBkaXZpc2lvbiA9IGNvbnRhaW5lck9ESEVBRC5nZXQoIlVBRElWSSIpIA0KICAgIGRlbGl2ZXJ5TnVtYmVyU3RyaW5nID0gY29udGFpbmVyT0RIRUFELmdldCgiVUFETElYIikgIA0KICAgIG9yZGVyU3RhdHVzID0gY29udGFpbmVyT0RIRUFELmdldFN0cmluZygiVUFPUlNUIikNCiAgICBjdXN0b21lciA9IGNvbnRhaW5lck9ESEVBRC5nZXRTdHJpbmcoIlVBQ1VOTyIpICANCiAgICBjdXJyZW5jeUNvZGUgPSBjb250YWluZXJPREhFQUQuZ2V0U3RyaW5nKCJVQUNVQ0QiKSAgIA0KICAgIHBheW1lbnRUZXJtcyA9IGNvbnRhaW5lck9ESEVBRC5nZXRTdHJpbmcoIlVBVEVQWSIpICANCiAgICBkZWxpdmVyeVRlcm1zID0gY29udGFpbmVyT0RIRUFELmdldFN0cmluZygiVUFURURMIikgIA0KICAgIGludm9pY2VEYXRlID0gU3RyaW5nLnZhbHVlT2YoY29udGFpbmVyT0RIRUFELmdldCgiVUFJVkRUIikpICANCiAgICB5ZWFyID0gU3RyaW5nLnZhbHVlT2YoY29udGFpbmVyT0RIRUFELmdldCgiVUFZRUE0IikpIA0KICAgIGludm9pY2VQcmVmaXggPSBjb250YWluZXJPREhFQUQuZ2V0KCJVQUlOUFgiKSAgICAgICAgICAgICAgICAgICANCiAgICBwYXllciA9IGNvbnRhaW5lck9ESEVBRC5nZXQoIlVBUFlOTyIpICAgICAgICAgICAgICAgICAgICAgICAgICAgDQoNCiAgfSANCiAgDQogIA0KICBpZiAob3JkZXJTdGF0dXMgPj0gIjcwIikgew0KICAgICAgICBvdXRDT05PID0gU3RyaW5nLnZhbHVlT2YobGluZS5nZXQoIlVCQ09OTyIpKQ0KICAgICAgICBvdXRETElYID0gU3RyaW5nLnZhbHVlT2YobGluZS5nZXQoIlVCRExJWCIpKQ0KICAgICAgICBvdXRJVk5PID0gU3RyaW5nLnZhbHVlT2YobGluZS5nZXQoIlVCSVZOTyIpKSANCiAgICAgICAgb3V0SVROTyA9IFN0cmluZy52YWx1ZU9mKGxpbmUuZ2V0KCJVQklUTk8iKSkgIA0KICAgICAgICBvdXRMVFlQID0gU3RyaW5nLnZhbHVlT2YobGluZS5nZXQoIlVCTFRZUCIpKQ0KICAgICAgICBvdXRTUFVOID0gU3RyaW5nLnZhbHVlT2YobGluZS5nZXQoIlVCU1BVTiIpKQ0KICAgICAgICBvdXRDVU5PID0gY3VzdG9tZXINCiAgICAgICAgb3V0Q1VDRCA9IGN1cnJlbmN5Q29kZSANCiAgICAgICAgb3V0VEVQWSA9IHBheW1lbnRUZXJtcw0KICAgICAgICBvdXRPUlNUID0gb3JkZXJTdGF0dXMNCiAgICAgICAgb3V0RExJWCA9IGRlbGl2ZXJ5TnVtYmVyDQogICAgICAgIG91dFNBUFIgPSBzYWxlc1ByaWNlDQogICAgICAgIG91dE5FUFIgPSBuZXRQcmljZQ0KICAgICAgICBvdXRMTkFNID0gbGluZUFtb3VudA0KICAgICAgICBvdXRURURMID0gZGVsaXZlcnlUZXJtcw0KICAgICAgICBvdXRJVkRUID0gaW52b2ljZURhdGUNCiAgICAgICAgb3V0WUVBNCA9IHllYXINCiAgICAgICAgb3V0RElTQyA9IGRpc2NvdW50U3VtICAgDQogICAgICAgIG91dERJU00gPSBkaXNjb3VudDQgICAgIA0KICAgICAgICBvdXRQWU5PID0gcGF5ZXINCiAgICAgICAgb3V0V0hMTyA9IHdhcmVob3VzZQ0KICAgICAgICBvdXRFWElOID0gZXh0SW52b2ljZU51bWJlcg0KICAgICAgICANCiAgICAgICAgLy8gRmluZCBleGNoYW5nZSByYXRlDQogICAgICAgIE9wdGlvbmFsPFN0cmluZz4gdG1wQVJBVCA9IGdldEN1cnJlbmN5UmF0ZShvdXRDT05PLCBkaXZpc2lvbiwgb3V0Q1VDRCwgaW52b2ljZURhdGUpDQogICAgICAgIGlmKHRtcEFSQVQuaXNQcmVzZW50KCkpIHsNCiAgICAgICAgICBvdXRBUkFUID0gdG1wQVJBVC5nZXQoKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIG91dEFSQVQgPSAiIg0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyBHZXQgT3JkZXIgSGVhZCBJbmZvIA0KICAgICAgICBPcHRpb25hbDxEQkNvbnRhaW5lcj4gT09IRUFEID0gZmluZE9PSEVBRChjb21wYW55LCBvcmRlck51bWJlcikNCiAgICAgICAgaWYoT09IRUFELmlzUHJlc2VudCgpKXsNCiAgICAgICAgICAvLyBSZWNvcmQgZm91bmQsIGNvbnRpbnVlIHRvIGdldCBpbmZvcm1hdGlvbiAgDQogICAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyT09IRUFEID0gT09IRUFELmdldCgpIA0KICAgICAgICAgIG91dE9SRFQgPSBTdHJpbmcudmFsdWVPZihjb250YWluZXJPT0hFQUQuZ2V0KCJPQU9SRFQiKSkgIA0KICAgICAgICAgIG91dEZBQ0kgPSBjb250YWluZXJPT0hFQUQuZ2V0U3RyaW5nKCJPQUZBQ0kiKSAgDQogICAgICAgICAgb3V0T1JUUCA9IGNvbnRhaW5lck9PSEVBRC5nZXRTdHJpbmcoIk9BT1JUUCIpICAgDQogICAgICAgICAgb3V0V0NPTiA9IGNvbnRhaW5lck9PSEVBRC5nZXRTdHJpbmcoIk9BV0NPTiIpICAgDQogICAgICAgICAgb3V0T1JOTyA9IGNvbnRhaW5lck9PSEVBRC5nZXRTdHJpbmcoIk9BT1JOTyIpICANCiAgICAgICAgICBvdXRBR05IID0gY29udGFpbmVyT09IRUFELmdldFN0cmluZygiT0FBR05PIikgICAgICAgICANCiAgICAgICAgICBsYW5ndWFnZUNvZGUgPSBjb250YWluZXJPT0hFQUQuZ2V0U3RyaW5nKCJPQUxOQ0QiKSAgIA0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIG91dE9SRFQgPSAiIg0KICAgICAgICAgIG91dEZBQ0kgPSAiIg0KICAgICAgICAgIG91dE9SVFAgPSAiIg0KICAgICAgICAgIG91dFdDT04gPSAiIg0KICAgICAgICAgIG91dE9STk8gPSAiIg0KICAgICAgICAgIGxhbmd1YWdlQ29kZSA9ICIiDQogICAgICAgIH0gDQoNCiAgICAgICAgLy8gVEVETCB0ZXh0DQogICAgICAgIE9wdGlvbmFsPERCQ29udGFpbmVyPiBDU1lUQUIgPSBmaW5kQ1NZVEFCKGNvbXBhbnksIGRlbGl2ZXJ5VGVybXMsIGxhbmd1YWdlQ29kZSkNCiAgICAgICAgaWYoQ1NZVEFCLmlzUHJlc2VudCgpKXsNCiAgICAgICAgICAvLyBSZWNvcmQgZm91bmQsIGNvbnRpbnVlIHRvIGdldCBpbmZvcm1hdGlvbiAgDQogICAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyQ1NZVEFCID0gQ1NZVEFCLmdldCgpIA0KICAgICAgICAgIG91dFRFTDEgPSBjb250YWluZXJDU1lUQUIuZ2V0U3RyaW5nKCJDVFBBUk0iKSAgDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgb3V0VEVMMSA9ICIiDQogICAgICAgIH0gDQoNCiAgICAgICAgLy8gR2V0IE9yZGVyIExpbmUgSW5mbyANCiAgICAgICAgT3B0aW9uYWw8REJDb250YWluZXI+IE9PTElORSA9IGZpbmRPT0xJTkUoY29tcGFueSwgb3JkZXJOdW1iZXIsIG9yZGVyTGluZSwgb3JkZXJMaW5lU3VmZml4KQ0KICAgICAgICBpZihPT0xJTkUuaXNQcmVzZW50KCkpew0KICAgICAgICAgIC8vIFJlY29yZCBmb3VuZCwgY29udGludWUgdG8gZ2V0IGluZm9ybWF0aW9uICANCiAgICAgICAgICBEQkNvbnRhaW5lciBjb250YWluZXJPT0xJTkUgPSBPT0xJTkUuZ2V0KCkgDQogICAgICAgICAgb3V0QURJRCA9IGNvbnRhaW5lck9PTElORS5nZXRTdHJpbmcoIk9CQURJRCIpICANCiAgICAgICAgICBvdXRSU0NEID0gY29udGFpbmVyT09MSU5FLmdldFN0cmluZygiT0JSU0NEIikgICANCiAgICAgICAgICBvdXRTTUNEID0gY29udGFpbmVyT09MSU5FLmdldFN0cmluZygiT0JTTUNEIikgICANCiAgICAgICAgICBvdXRPRk5PID0gY29udGFpbmVyT09MSU5FLmdldFN0cmluZygiT0JPRk5PIikgICANCiAgICAgICAgICBvdXRBR05PID0gY29udGFpbmVyT09MSU5FLmdldFN0cmluZygiT0JBR05PIikgDQogICAgICAgICAgYXR0cmlidXRlTnVtYmVyID0gY29udGFpbmVyT09MSU5FLmdldCgiT0JBVE5SIikgDQogICAgICAgICAgb3V0UE9OUiA9IGNvbnRhaW5lck9PTElORS5nZXQoIk9CUE9OUiIpIA0KICAgICAgICAgIG91dFVDQTIgPSBjb250YWluZXJPT0xJTkUuZ2V0U3RyaW5nKCJPQlVDQTIiKSANCiAgICAgICAgICBvdXRVQ0EzID0gY29udGFpbmVyT09MSU5FLmdldFN0cmluZygiT0JVQ0EzIikgDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgb3V0QURJRCA9ICIiDQogICAgICAgICAgb3V0UlNDRCA9ICIiDQogICAgICAgICAgb3V0U01DRCA9ICIiDQogICAgICAgICAgb3V0T0ZOTyA9ICIiDQogICAgICAgICAgb3V0QUdOTyA9ICIiDQogICAgICAgICAgYXR0cmlidXRlTnVtYmVyID0gMA0KICAgICAgICAgIG91dFBPTlIgPSAwDQogICAgICAgICAgb3V0VUNBMiA9ICIiDQogICAgICAgICAgb3V0VUNBMyA9ICIiDQogICAgICAgIH0NCg0KICAgICANCiAgICAgICAgLy8gR2V0IEl0ZW0gaW5mb3JtYXRpb24gDQogICAgICAgIE9wdGlvbmFsPERCQ29udGFpbmVyPiBNSVRNQVMgPSBmaW5kTUlUTUFTKGNvbXBhbnksIGl0ZW1OdW1iZXIpDQogICAgICAgIGlmKE1JVE1BUy5pc1ByZXNlbnQoKSl7DQogICAgICAgICAgLy8gUmVjb3JkIGZvdW5kLCBjb250aW51ZSB0byBnZXQgaW5mb3JtYXRpb24gIA0KICAgICAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1JVE1BUyA9IE1JVE1BUy5nZXQoKSANCiAgICAgICAgICBvdXRJVERTID0gY29udGFpbmVyTUlUTUFTLmdldFN0cmluZygiTU1JVERTIikgICANCiAgICAgICAgICBvdXRISUUxID0gY29udGFpbmVyTUlUTUFTLmdldFN0cmluZygiTU1ISUUxIikgICANCiAgICAgICAgICBvdXRISUUyID0gY29udGFpbmVyTUlUTUFTLmdldFN0cmluZygiTU1ISUUyIikgICANCiAgICAgICAgICBvdXRISUUzID0gY29udGFpbmVyTUlUTUFTLmdldFN0cmluZygiTU1ISUUzIikgIA0KICAgICAgICAgIG91dEhJRTQgPSBjb250YWluZXJNSVRNQVMuZ2V0U3RyaW5nKCJNTUhJRTQiKSAgDQogICAgICAgICAgb3V0SElFNSA9IGNvbnRhaW5lck1JVE1BUy5nZXRTdHJpbmcoIk1NSElFNSIpICANCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBvdXRJVERTID0gIiINCiAgICAgICAgICBvdXRISUUxID0gIiINCiAgICAgICAgICBvdXRISUUyID0gIiINCiAgICAgICAgICBvdXRISUUzID0gIiINCiAgICAgICAgICBvdXRISUU0ID0gIiINCiAgICAgICAgICBvdXRISUU1ID0gIiINCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8gR2V0IEF0dHJpYnV0ZSBpbmZvcm1hdGlvbiANCiAgICAgICAgT3B0aW9uYWw8REJDb250YWluZXI+IE1PQVRUUiA9IGZpbmRNT0FUVFIoY29tcGFueSwgYXR0cmlidXRlTnVtYmVyLCAiRk9DVVMiLCAiMCIpDQogICAgICAgIGlmKE1PQVRUUi5pc1ByZXNlbnQoKSl7DQogICAgICAgICAgLy8gUmVjb3JkIGZvdW5kLCBjb250aW51ZSB0byBnZXQgaW5mb3JtYXRpb24gIA0KICAgICAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1PQVRUUiA9IE1PQVRUUi5nZXQoKSANCiAgICAgICAgICBvdXRBVEFWID0gY29udGFpbmVyTU9BVFRSLmdldFN0cmluZygiQUhBVEFWIikgICANCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBvdXRBVEFWID0gIiINCiAgICAgICAgfQ0KDQogICAgICAgIGdldERlbGl2ZXJ5QWRkcmVzcyhjb21wYW55U3RyaW5nLCBkZWxpdmVyeU51bWJlclN0cmluZywgIjAxIikNCiAgICAgICAgDQogICAgICAgIGdldEFkZGl0aW9uYWxEZWxMaW5lSW5mbyhjb21wYW55U3RyaW5nLCBvcmRlck51bWJlciwgZGVsaXZlcnlOdW1iZXJTdHJpbmcsIHdhcmVob3VzZSwgb3JkZXJMaW5lU3RyaW5nLCBvcmRlckxpbmVTdWZmaXhTdHJpbmcsIHBheW1lbnRUZXJtcykNCiAgICAgICAgDQogICAgICAgIGludkNoYXJnZSA9IDANCiAgICAgICAgb3V0Q0hHSCA9ICIiDQogICAgICAgIGluZm9ybWF0aW9uVHlwZSA9ICI2NSINCiAgICAgICAgZ2V0SW52b2ljZUNoYXJnZXMoY29tcGFueVN0cmluZywgZGl2aXNpb24sIHllYXIsIGludm9pY2VOdW1iZXJTdHJpbmcsIGluZm9ybWF0aW9uVHlwZSwgaW52b2ljZVByZWZpeCwgZXh0SW52b2ljZU51bWJlcikgICAgDQogICAgICAgIG91dENIR0ggPSBpbnZDaGFyZ2UNCiAgICAgICAgDQogICAgICAgIGludkNoYXJnZSA9IDANCiAgICAgICAgb3V0Q0hHRiA9ICIiDQogICAgICAgIGluZm9ybWF0aW9uVHlwZSA9ICI2MCINCiAgICAgICAgZ2V0SW52b2ljZUNoYXJnZXMoY29tcGFueVN0cmluZywgZGl2aXNpb24sIHllYXIsIGludm9pY2VOdW1iZXJTdHJpbmcsIGluZm9ybWF0aW9uVHlwZSwgaW52b2ljZVByZWZpeCwgZXh0SW52b2ljZU51bWJlcikgICAgDQogICAgICAgIGlmIChpbnZSZWZlcmVuY2UgIT0gbnVsbCkgew0KICAgICAgICAgIGlmIChpbnZSZWZlcmVuY2Uuc3RhcnRzV2l0aCgiRiIpKSB7DQogICAgICAgICAgICBvdXRDSEdGID0gaW52Q2hhcmdlDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBpbnZDaGFyZ2UgPSAwDQogICAgICAgIG91dENIR08gPSAiIg0KICAgICAgICBpbmZvcm1hdGlvblR5cGUgPSAiNjAiDQogICAgICAgIGdldEludm9pY2VDaGFyZ2VzKGNvbXBhbnlTdHJpbmcsIGRpdmlzaW9uLCB5ZWFyLCBpbnZvaWNlTnVtYmVyU3RyaW5nLCBpbmZvcm1hdGlvblR5cGUsIGludm9pY2VQcmVmaXgsIGV4dEludm9pY2VOdW1iZXIpICAgIA0KICAgICAgICBpZiAoaW52UmVmZXJlbmNlICE9IG51bGwpIHsNCiAgICAgICAgICBpZiAoIWludlJlZmVyZW5jZS5zdGFydHNXaXRoKCJGIikpIHsNCiAgICAgICAgICAgIG91dENIR08gPSBpbnZDaGFyZ2UNCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICANCiAgICAgICAgZ2V0RGl2aXNpb25JbmZvKGNvbXBhbnlTdHJpbmcsIGRpdmlzaW9uKQ0KICAgICAgICANCiAgICAgIC8vIFNlbmQgT3V0cHV0DQogICAgICBzZXRPdXRwdXQoKQ0KICAgICAgbWkud3JpdGUoKSANCg0KICAgfQ0KDQoNCiAgfQ0KICANCn0NCiA="}}}