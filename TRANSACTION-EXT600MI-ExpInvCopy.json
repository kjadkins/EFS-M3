{"programModules":{"EXT600MI":{"program":"EXT600MI","triggers":{},"transactions":{"ExpInvCopy":{"sourceUuid":"c075df28-ffa1-4878-94db-5f84f76600df","name":"ExpInvCopy","program":"EXT600MI","description":"Export Invoice Copy","active":true,"multi":true,"modified":1683660568214,"modifiedBy":"JESBJO00","outputFields":[{"name":"IVNO","description":"Invoice Number","length":9,"mandatory":false,"type":"A"},{"name":"IVDT","description":"Invoice Date","length":8,"mandatory":false,"type":"A"},{"name":"CUNO","description":"Customer Number","length":10,"mandatory":false,"type":"A"},{"name":"CUCD","description":"Currency","length":3,"mandatory":false,"type":"A"},{"name":"TEPY","description":"Payment Terms","length":3,"mandatory":false,"type":"A"},{"name":"ITNO","description":"Item Number","length":15,"mandatory":false,"type":"A"},{"name":"ITDS","description":"Item Description","length":60,"mandatory":false,"type":"A"},{"name":"LTYP","description":"Line Type","length":1,"mandatory":false,"type":"A"},{"name":"SPUN","description":"Sales Price Unit of Measure","length":3,"mandatory":false,"type":"A"},{"name":"QTY6","description":"Qty 6","length":21,"mandatory":false,"type":"A"},{"name":"QTY4","description":"Qty 4","length":21,"mandatory":false,"type":"A"},{"name":"DCOS","description":"Issued Cost Amount","length":23,"mandatory":false,"type":"A"},{"name":"SAPR","description":"Sales Price","length":23,"mandatory":false,"type":"A"},{"name":"NEPR","description":"Net Price","length":23,"mandatory":false,"type":"A"},{"name":"LNAM","description":"Line Amount - Ordered Currency","length":17,"mandatory":false,"type":"A"},{"name":"HIE1","description":"Hierarchy Level 1","length":15,"mandatory":false,"type":"A"},{"name":"HIE2","description":"Hierarchy Level 2","length":15,"mandatory":false,"type":"A"},{"name":"HIE3","description":"Hierarchy Level 3","length":15,"mandatory":false,"type":"A"},{"name":"HIE4","description":"Hierarchy Level 4","length":15,"mandatory":false,"type":"A"},{"name":"HIE5","description":"Hierarchy Level 5","length":15,"mandatory":false,"type":"A"},{"name":"FACI","description":"Facility","length":3,"mandatory":false,"type":"A"},{"name":"ORTP","description":"Order Type","length":3,"mandatory":false,"type":"A"},{"name":"WCON","description":"Contact Method","length":3,"mandatory":false,"type":"A"},{"name":"ORDT","description":"Order Date","length":8,"mandatory":false,"type":"A"},{"name":"ADID","description":"Address Id","length":6,"mandatory":false,"type":"A"},{"name":"OFNO","description":"Quotation Number","length":10,"mandatory":false,"type":"A"},{"name":"AGNO","description":"Agreement Number","length":7,"mandatory":false,"type":"A"},{"name":"SMCD","description":"Salesperson","length":10,"mandatory":false,"type":"A"},{"name":"RSCD","description":"Reason code","length":3,"mandatory":false,"type":"A"},{"name":"TEDL","description":"Delivery Terms","length":3,"mandatory":false,"type":"A"},{"name":"TEL1","description":"Terms text","length":36,"mandatory":false,"type":"A"},{"name":"ORNO","description":"Order Number","length":10,"mandatory":false,"type":"A"},{"name":"YEA4","description":"Invoice Year","length":4,"mandatory":false,"type":"A"},{"name":"ORST","description":"Status","length":2,"mandatory":false,"type":"A"},{"name":"NAME","description":"Name","length":36,"mandatory":false,"type":"A"},{"name":"TOWN","description":"City","length":20,"mandatory":false,"type":"A"},{"name":"CSCD","description":"Country","length":3,"mandatory":false,"type":"A"},{"name":"PONO","description":"Postal Code","length":10,"mandatory":false,"type":"A"},{"name":"LOCD","description":"Local Currency","length":3,"mandatory":false,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":false,"type":"A"},{"name":"ATVN","description":"Attribute","length":17,"mandatory":false,"type":"A"},{"name":"PONR","description":"Order Line Number","length":5,"mandatory":false,"type":"N"},{"name":"DISC","description":"Discount","length":21,"mandatory":false,"type":"A"},{"name":"DISM","description":"Additional Discount","length":21,"mandatory":false,"type":"A"},{"name":"CHGH","description":"Handling Charges","length":17,"mandatory":false,"type":"A"},{"name":"CHGF","description":"Freight Charges","length":17,"mandatory":false,"type":"A"},{"name":"CHGO","description":"Other Charges","length":17,"mandatory":false,"type":"A"},{"name":"AGNH","description":"Agreement Number Head","length":7,"mandatory":false,"type":"A"},{"name":"PYNO","description":"Payer","length":10,"mandatory":false,"type":"A"},{"name":"ARAT","description":"Currency rate","length":15,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"UCA2","description":"Agent 1","length":20,"mandatory":false,"type":"A"},{"name":"UCA3","description":"Agent 2","length":20,"mandatory":false,"type":"A"},{"name":"EXIN","description":"Ext Invoice Number","length":14,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":true,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"c075df28-ffa1-4878-94db-5f84f76600df":{"uuid":"c075df28-ffa1-4878-94db-5f84f76600df","updated":1684870470605,"updatedBy":"JESBJO00","created":1683654468537,"createdBy":"JESBJO00","apiVersion":"0.21","beVersion":"16.0.0.20230320183423.8","language":"GROOVY","codeHash":"93E6CD2FDE033C31329BA9DC35CDB389BD4238F20EF03109804B1816104E27A8","code":"Ly8gQGF1dGhvciAgICBKZXNzaWNhIEJqb3JrbHVuZCAoamVzc2ljYS5iam9ya2x1bmRAY29sdW1idXNnbG9iYWwuY29tKQ0KLy8gQGRhdGUgICAgICAyMDIzLTA1LTA0DQovLyBAdmVyc2lvbiAgIDEuMCAgDQovLw0KLy8gRGVzY3JpcHRpb24gDQovLyBUaGlzIEFQSSB0cmFuc2FjYXRpb24gRXhwSW52Q29weSBpcyB1c2VkIHRvIHNlbmQgZGF0YSB0byBQcmljZUZYIGZyb20gTTMgYmFzZWQgb24gcHJpbnRlZCBpbnZvaWNlIA0KLy8gY29waWVzIGZvciBhIHNwZWNpZmljIGRheQ0KLy8NCg0KLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KLy8gRGF0ZSAgICBWZXJzaW9uICAgICBEZXZlbG9wZXIgDQovLyAyMzA1MDQgIDEuMCAgICAgICAgIEplc3NpY2EgQmpvcmtsdW5kLCBDb2x1bWJ1cyAgIE5ldyBBUEkgdHJhbnNhY3Rpb24gdG8gbGlzdCByZXByaW50ZWQgaW52b2ljZXMNCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCg0KDQppbXBvcnQgamF2YS5tYXRoLlJvdW5kaW5nTW9kZSANCmltcG9ydCBqYXZhLm1hdGguQmlnRGVjaW1hbA0KaW1wb3J0IGphdmEubGFuZy5NYXRoDQppbXBvcnQgamF2YS50aW1lLkluc3RhbnQNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlDQppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWUNCmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyDQoNCg0KcHVibGljIGNsYXNzIEV4cEludkNvcHkgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsgDQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2U7IA0KICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbTsNCiAgcHJpdmF0ZSBmaW5hbCBMb2dnZXJBUEkgbG9nZ2VyOyANCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcjsgDQoNCiAgDQogIC8vIERlZmluaXRpb24gDQogIHB1YmxpYyBpbnQgY29tcGFueSANCiAgcHVibGljIFN0cmluZyBkaXZpc2lvbg0KICBwdWJsaWMgaW50IGRlbGl2ZXJ5TnVtYmVyDQogIHB1YmxpYyBpbnQgaW52b2ljZU51bWJlcg0KICBwdWJsaWMgU3RyaW5nIG9yZGVyTnVtYmVyDQogIHB1YmxpYyBTdHJpbmcgaXRlbU51bWJlcg0KICBwdWJsaWMgaW50IG9yZGVyTGluZQ0KICBwdWJsaWMgaW50IG9yZGVyTGluZVN1ZmZpeA0KICBwdWJsaWMgU3RyaW5nIHdhcmVob3VzZQ0KICBwdWJsaWMgU3RyaW5nIHBheW1lbnRUZXJtcw0KICBwdWJsaWMgU3RyaW5nIGludm9pY2VEYXRlDQogIHB1YmxpYyBTdHJpbmcgZGVsaXZlcnlUZXJtcw0KICBwdWJsaWMgU3RyaW5nIHllYXINCiAgcHVibGljIFN0cmluZyBjdXN0b21lcg0KICBwdWJsaWMgU3RyaW5nIGN1cnJlbmN5Q29kZQ0KICBwdWJsaWMgU3RyaW5nIGxhbmd1YWdlQ29kZQ0KICBwdWJsaWMgU3RyaW5nIGNvbXBhbnlTdHJpbmcNCiAgcHVibGljIFN0cmluZyBkZWxpdmVyeU51bWJlclN0cmluZw0KICBwdWJsaWMgU3RyaW5nIG9yZGVyTGluZVN0cmluZw0KICBwdWJsaWMgU3RyaW5nIG9yZGVyTGluZVN1ZmZpeFN0cmluZw0KICBwdWJsaWMgU3RyaW5nIG9yZGVyU3RhdHVzDQogIHB1YmxpYyBTdHJpbmcgc2FsZXNQcmljZQ0KICBwdWJsaWMgU3RyaW5nIG5ldFByaWNlDQogIHB1YmxpYyBTdHJpbmcgbGluZUFtb3VudA0KICBwdWJsaWMgaW50IHNlbnRGbGFnDQogIHB1YmxpYyBpbnQgaW5DT05PDQogIHB1YmxpYyBTdHJpbmcgaW5ESVZJIA0KICAvL3B1YmxpYyBTdHJpbmcgaW5ZRUE0DQogIHB1YmxpYyBTdHJpbmcgaW5OQlRZDQogIHB1YmxpYyBTdHJpbmcgaW5OQklEDQogIHB1YmxpYyBsb25nIGF0dHJpYnV0ZU51bWJlcg0KICBwdWJsaWMgZG91YmxlIGRpc2NvdW50MSAgICAgICAgICAgICAgICANCiAgcHVibGljIGRvdWJsZSBkaXNjb3VudDIgICAgICAgICAgICAgICAgDQogIHB1YmxpYyBkb3VibGUgZGlzY291bnQzICAgICAgICAgICAgICAgIA0KICBwdWJsaWMgZG91YmxlIGRpc2NvdW50NCAgICAgICAgICAgICAgICANCiAgcHVibGljIGRvdWJsZSBkaXNjb3VudDUgICAgICAgICAgICAgICAgDQogIHB1YmxpYyBkb3VibGUgZGlzY291bnQ2ICAgICAgICAgICAgICAgIA0KICBwdWJsaWMgZG91YmxlIGRpc2NvdW50U3VtICAgICAgICAgICAgIA0KICBwdWJsaWMgU3RyaW5nIGludm9pY2VOdW1iZXJTdHJpbmcgICANCiAgcHVibGljIFN0cmluZyBleHRJbnZvaWNlTnVtYmVyICAgICAgDQogIHB1YmxpYyBTdHJpbmcgaW52b2ljZVByZWZpeCAgICAgICAgIA0KICBwdWJsaWMgU3RyaW5nIGludkNoYXJnZSAgICAgICAgICAgICANCiAgcHVibGljIFN0cmluZyBpbnZSZWZlcmVuY2UgICAgICAgICAgDQogIHB1YmxpYyBTdHJpbmcgaW5mb3JtYXRpb25UeXBlICAgICAgIA0KICBwdWJsaWMgU3RyaW5nIHBheWVyIA0KICBwdWJsaWMgU3RyaW5nIGxhc3RFeHBvcnRlZEludm9pY2VOdW1iZXJTZXJpZXMNCiAgcHVibGljIFN0cmluZyBsYXN0RXhwb3J0ZWRJbnZvaWNlTnVtYmVyU3RhcnQNCiAgcHVibGljIFN0cmluZyBsYXN0RXhwb3J0ZWRJbnZvaWNlTnVtYmVyTWF4DQogIHB1YmxpYyBTdHJpbmcgbGFzdEV4cG9ydGVkSW52b2ljZU51bWJlckVuZA0KICBwdWJsaWMgU3RyaW5nIG51bWJlclNlcmllc0ZvckRpdmlzaW9uDQogIHB1YmxpYyBTdHJpbmcgY3VycmVudFllYXINCiAgcHVibGljIFN0cmluZyBjdXJyZW50RGF0ZQ0KDQogIC8vIERlZmluaXRpb24gb2Ygb3V0cHV0IGZpZWxkcw0KICBwdWJsaWMgU3RyaW5nIG91dElWTk8NCiAgcHVibGljIFN0cmluZyBvdXRJVkRUDQogIHB1YmxpYyBTdHJpbmcgb3V0Q1VOTyANCiAgcHVibGljIFN0cmluZyBvdXRDVUNEDQogIHB1YmxpYyBTdHJpbmcgb3V0VEVQWSANCiAgcHVibGljIFN0cmluZyBvdXRJVE5PICANCiAgcHVibGljIFN0cmluZyBvdXRJVERTICANCiAgcHVibGljIFN0cmluZyBvdXRMVFlQICANCiAgcHVibGljIFN0cmluZyBvdXRTUFVOICANCiAgcHVibGljIFN0cmluZyBvdXRRVFk2ICANCiAgcHVibGljIFN0cmluZyBvdXRRVFk0ICANCiAgcHVibGljIFN0cmluZyBvdXREQ09TDQogIHB1YmxpYyBTdHJpbmcgb3V0U0FQUg0KICBwdWJsaWMgU3RyaW5nIG91dE5FUFINCiAgcHVibGljIFN0cmluZyBvdXRMTkFNDQogIHB1YmxpYyBTdHJpbmcgb3V0SElFMQ0KICBwdWJsaWMgU3RyaW5nIG91dEhJRTINCiAgcHVibGljIFN0cmluZyBvdXRISUUzDQogIHB1YmxpYyBTdHJpbmcgb3V0SElFNA0KICBwdWJsaWMgU3RyaW5nIG91dEhJRTUNCiAgcHVibGljIFN0cmluZyBvdXRGQUNJDQogIHB1YmxpYyBTdHJpbmcgb3V0T1JUUA0KICBwdWJsaWMgU3RyaW5nIG91dEFESUQNCiAgcHVibGljIFN0cmluZyBvdXRPUk5PDQogIHB1YmxpYyBTdHJpbmcgb3V0UlNDRA0KICBwdWJsaWMgU3RyaW5nIG91dFRFREwNCiAgcHVibGljIFN0cmluZyBvdXRURUwxDQogIHB1YmxpYyBTdHJpbmcgb3V0U01DRA0KICBwdWJsaWMgU3RyaW5nIG91dFdDT04NCiAgcHVibGljIFN0cmluZyBvdXRPUkRUDQogIHB1YmxpYyBTdHJpbmcgb3V0T0ZOTw0KICBwdWJsaWMgU3RyaW5nIG91dEFHTk8NCiAgcHVibGljIFN0cmluZyBvdXRPUlNUDQogIHB1YmxpYyBTdHJpbmcgb3V0RExJWA0KICBwdWJsaWMgU3RyaW5nIG91dEFEUlQNCiAgcHVibGljIFN0cmluZyBvdXRDT05PDQogIHB1YmxpYyBTdHJpbmcgb3V0TkFNRQ0KICBwdWJsaWMgU3RyaW5nIG91dFRPV04NCiAgcHVibGljIFN0cmluZyBvdXRDU0NEDQogIHB1YmxpYyBTdHJpbmcgb3V0UE9OTw0KICBwdWJsaWMgU3RyaW5nIG91dExPQ0QNCiAgcHVibGljIFN0cmluZyBvdXRBVEFWDQogIHB1YmxpYyBTdHJpbmcgb3V0WUVBNA0KICBwdWJsaWMgU3RyaW5nIG91dFBPTlIgICANCiAgcHVibGljIFN0cmluZyBvdXRESVNDICAgDQogIHB1YmxpYyBTdHJpbmcgb3V0RElTTSAgIA0KICBwdWJsaWMgU3RyaW5nIG91dENIR0ggICANCiAgcHVibGljIFN0cmluZyBvdXRDSEdGICAgDQogIHB1YmxpYyBTdHJpbmcgb3V0Q0hHTyAgIA0KICBwdWJsaWMgU3RyaW5nIG91dEFHTkggICANCiAgcHVibGljIFN0cmluZyBvdXRQWU5PICAgDQogIHB1YmxpYyBTdHJpbmcgb3V0QVJBVA0KICBwdWJsaWMgU3RyaW5nIG91dFdITE8NCiAgcHVibGljIFN0cmluZyBvdXRVQ0EyDQogIHB1YmxpYyBTdHJpbmcgb3V0VUNBMw0KICBwdWJsaWMgU3RyaW5nIG91dEVYSU4NCg0KDQogIC8vIENvbnN0cnVjdG9yIA0KICBwdWJsaWMgRXhwSW52Q29weShNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsUHJvZ3JhbUFQSSBwcm9ncmFtLCBMb2dnZXJBUEkgbG9nZ2VyLCBNSUNhbGxlckFQSSBtaUNhbGxlcikgew0KICAgICB0aGlzLm1pID0gbWk7DQogICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZTsgDQogICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07DQogICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyOyANCiAgICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyOw0KICB9IA0KICAgICANCiAgDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIC8vIE1haW4gDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogIA0KICBwdWJsaWMgdm9pZCBtYWluKCkgeyANCiAgICAgIC8vIEdldCBMREEgY29tcGFueSBvZiBub3QgZW50ZXJlZCANCiAgICAgIGluQ09OTyA9IGdldENPTk8oKSAgDQogICAgICANCiAgICAgIGluRElWSSA9IG1pLmluLmdldCgiRElWSSIpICANCiAgICAgIA0KICAgICAgY3VycmVudFllYXIgPSBjdXJyZW50WWVhckFzU3RyaW5nKCkNCiAgICAgIGN1cnJlbnREYXRlID0gY3VycmVudERhdGVZOEFzU3RyaW5nKCkNCg0KICAgICAgLy8gU3RhcnQgdGhlIGxpc3RpbmcNCiAgICAgIGxzdEludm9pY2VDb3BpZXMoKQ0KDQogIH0NCiAgDQogICAgICAgICAgICAgICAgDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIC8vIEdldCBjb21wYW55IGZyb20gTERBDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIHByaXZhdGUgSW50ZWdlciBnZXRDT05PKCkgew0KICAgIGludCBjb21wYW55ID0gbWkuaW4uZ2V0KCJDT05PIikgYXMgSW50ZWdlcg0KICAgIGlmKGNvbXBhbnkgPT0gbnVsbCl7DQogICAgICBjb21wYW55ID0gcHJvZ3JhbS5MREFaRC5DT05PIGFzIEludGVnZXINCiAgICB9IA0KICAgIHJldHVybiBjb21wYW55DQogICAgDQogIH0gDQoNCg0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAvLyBHZXQgT3JkZXIgRGVsaXZlcnkgSGVhZGVyIEluZm8gT0RIRUFEDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIHByaXZhdGUgT3B0aW9uYWw8REJDb250YWluZXI+IGZpbmRPREhFQUQoSW50ZWdlciBDT05PLCBTdHJpbmcgT1JOTywgU3RyaW5nIFdITE8sIEludGVnZXIgRExJWCwgU3RyaW5nIFRFUFkpeyAgDQogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiT0RIRUFEIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJVQUNPTk8iLCAiVUFPUk5PIiwgIlVBQ1VOTyIsICJVQURMSVgiLCAiVUFXSExPIiwgIlVBSVZOTyIsICJVQUlWRFQiLCAiVUFDVU5PIiwgIlVBQ1VDRCIsICJVQVRFUFkiLCAiVUFPUlNUIiwgIlVBWUVBNCIsICJVQVRFREwiLCAiVUFJTlBYIiwgIlVBRElWSSIsICJVQVBZTk8iKS5idWlsZCgpICAgIA0KICAgIGRlZiBPREhFQUQgPSBxdWVyeS5nZXRDb250YWluZXIoKQ0KICAgIE9ESEVBRC5zZXQoIlVBQ09OTyIsIENPTk8pDQogICAgT0RIRUFELnNldCgiVUFPUk5PIiwgT1JOTykNCiAgICBPREhFQUQuc2V0KCJVQVdITE8iLCBXSExPKQ0KICAgIE9ESEVBRC5zZXQoIlVBRExJWCIsIERMSVgpDQogICAgT0RIRUFELnNldCgiVUFURVBZIiwgVEVQWSkNCiAgICANCiAgICBpZihxdWVyeS5yZWFkKE9ESEVBRCkpICB7IA0KICAgICAgcmV0dXJuIE9wdGlvbmFsLm9mKE9ESEVBRCkNCiAgICB9IA0KICANCiAgICByZXR1cm4gT3B0aW9uYWwuZW1wdHkoKQ0KICB9DQogIA0KICANCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgLy8gR2V0IE9yZGVyIEhlYWRlciBJbmZvIE9PSEVBRA0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICBwcml2YXRlIE9wdGlvbmFsPERCQ29udGFpbmVyPiBmaW5kT09IRUFEKEludGVnZXIgQ09OTywgU3RyaW5nIE9STk8peyAgDQogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiT09IRUFEIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJPQUNPTk8iLCAiT0FPUk5PIiwgIk9BQ1VOTyIsICJPQUZBQ0kiLCAiT0FPUlRQIiwgIk9BT1JEVCIsICJPQVdDT04iLCAiT0FBRElEIiwgIk9BTE5DRCIpLmJ1aWxkKCkgICAgDQogICAgZGVmIE9PSEVBRCA9IHF1ZXJ5LmdldENvbnRhaW5lcigpDQogICAgT09IRUFELnNldCgiT0FDT05PIiwgQ09OTykNCiAgICBPT0hFQUQuc2V0KCJPQU9STk8iLCBPUk5PKQ0KDQogICAgaWYocXVlcnkucmVhZChPT0hFQUQpKSAgeyANCiAgICAgIHJldHVybiBPcHRpb25hbC5vZihPT0hFQUQpDQogICAgfSANCiAgDQogICAgcmV0dXJuIE9wdGlvbmFsLmVtcHR5KCkNCiAgfQ0KDQoNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgLy8gR2V0IE9yZGVyIExpbmUgSW5mbyBPT0xJTkUNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgcHJpdmF0ZSBPcHRpb25hbDxEQkNvbnRhaW5lcj4gZmluZE9PTElORShJbnRlZ2VyIENPTk8sIFN0cmluZyBPUk5PLCBJbnRlZ2VyIFBPTlIsIEludGVnZXIgUE9TWCl7ICANCiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJPT0xJTkUiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIk9CQ09OTyIsICJPQk9STk8iLCAiT0JQT05SIiwgIk9CUE9TWCIsICJPQkFESUQiLCAiT0JSU0NEIiwgIk9CU01DRCIsICJPQk9GTk8iLCAiT0JBR05PIiwgIk9CQVROUiIpLmJ1aWxkKCkgICAgDQogICAgZGVmIE9PTElORSA9IHF1ZXJ5LmdldENvbnRhaW5lcigpDQogICAgT09MSU5FLnNldCgiT0JDT05PIiwgQ09OTykNCiAgICBPT0xJTkUuc2V0KCJPQk9STk8iLCBPUk5PKQ0KICAgIE9PTElORS5zZXQoIk9CUE9OUiIsIFBPTlIpDQogICAgT09MSU5FLnNldCgiT0JQT1NYIiwgUE9TWCkNCg0KICAgIGlmKHF1ZXJ5LnJlYWQoT09MSU5FKSkgIHsgDQogICAgICByZXR1cm4gT3B0aW9uYWwub2YoT09MSU5FKQ0KICAgIH0gDQogIA0KICAgIHJldHVybiBPcHRpb25hbC5lbXB0eSgpDQogIH0NCg0KDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIC8vIEdldCBJdGVtIGluZm9ybWF0aW9uIE1JVE1BUw0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KIHByaXZhdGUgT3B0aW9uYWw8REJDb250YWluZXI+IGZpbmRNSVRNQVMoSW50ZWdlciBDT05PLCBTdHJpbmcgSVROTyl7ICANCiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJNSVRNQVMiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIk1NQ09OTyIsICJNTUlUTk8iLCAiTU1JVERTIiwgIk1NSElFMSIsICJNTUhJRTIiLCAiTU1ISUUzIiwgIk1NSElFNCIsICJNTUhJRTUiKS5idWlsZCgpICAgICANCiAgICBkZWYgTUlUTUFTID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkNCiAgICBNSVRNQVMuc2V0KCJNTUNPTk8iLCBDT05PKQ0KICAgIE1JVE1BUy5zZXQoIk1NSVROTyIsIElUTk8pDQogICAgDQogICAgaWYocXVlcnkucmVhZChNSVRNQVMpKSAgeyANCiAgICAgIHJldHVybiBPcHRpb25hbC5vZihNSVRNQVMpDQogICAgfSANCiAgDQogICAgcmV0dXJuIE9wdGlvbmFsLmVtcHR5KCkNCiAgfQ0KICANCg0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAvLyBHZXQgVEVETCB0ZXh0IGZyb20gQ1NZVEFCDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogcHJpdmF0ZSBPcHRpb25hbDxEQkNvbnRhaW5lcj4gZmluZENTWVRBQihJbnRlZ2VyIENPTk8sIFN0cmluZyBTVEtZLCBTdHJpbmcgTE5DRCl7ICANCiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJDU1lUQUIiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIkNUQ09OTyIsICJDVERJVkkiLCAiQ1RTVENPIiwgIkNUU1RLWSIsICJDVExOQ0QiLCAiQ1RQQVJNIikuYnVpbGQoKSAgICAgDQogICAgZGVmIENTWVRBQiA9IHF1ZXJ5LmdldENvbnRhaW5lcigpDQogICAgQ1NZVEFCLnNldCgiQ1RDT05PIiwgQ09OTykNCiAgICBDU1lUQUIuc2V0KCJDVERJVkkiLCAiIikNCiAgICBDU1lUQUIuc2V0KCJDVFNUQ08iLCAiVEVETCIpDQogICAgQ1NZVEFCLnNldCgiQ1RTVEtZIiwgU1RLWSkNCiAgICBDU1lUQUIuc2V0KCJDVExOQ0QiLCBMTkNEKQ0KICAgIA0KICAgIGlmKHF1ZXJ5LnJlYWQoQ1NZVEFCKSkgIHsgDQogICAgICByZXR1cm4gT3B0aW9uYWwub2YoQ1NZVEFCKQ0KICAgIH0gDQogIA0KICAgIHJldHVybiBPcHRpb25hbC5lbXB0eSgpDQogIH0NCiAgDQogIA0KICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgIC8vIEdldCBEZWxpdmVyeSBBZGRyZXNzIHVzaW5nIE1XUzQxME1JLkdldEFkcg0KICAgLy8gSW5wdXQgDQogICAvLyBDb21wYW55DQogICAvLyBEZWxpdmVyeSBOdW1iZXINCiAgIC8vIEFkZHJlc3MgVHlwZQ0KICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgIHByaXZhdGUgZ2V0RGVsaXZlcnlBZGRyZXNzKFN0cmluZyBjb21wYW55LCBTdHJpbmcgZGVsaXZlcnlOdW1iZXIsIFN0cmluZyBBZGRyZXNzVHlwZSl7ICAgDQogICAgICAgIGRlZiBwYXJhbXMgPSBbQ09OTzogY29tcGFueVN0cmluZywgRExJWDogZGVsaXZlcnlOdW1iZXJTdHJpbmcsIEFEUlQ6ICIwMiJdIA0KICAgICAgICBTdHJpbmcgbmFtZSA9IG51bGwNCiAgICAgICAgU3RyaW5nIHRvd24gPSBudWxsDQogICAgICAgIFN0cmluZyBjb3VudHJ5ID0gbnVsbA0KICAgICAgICBTdHJpbmcgcG9zdGFsQ29kZSA9IG51bGwNCiAgICAgICAgZGVmIGNhbGxiYWNrID0gew0KICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IHJlc3BvbnNlIC0+DQogICAgICAgIGlmKHJlc3BvbnNlLk5BTUUgIT0gbnVsbCl7DQogICAgICAgICAgbmFtZSA9IHJlc3BvbnNlLk5BTUUgDQogICAgICAgIH0NCiAgICAgICAgaWYocmVzcG9uc2UuVE9XTiAhPSBudWxsKXsNCiAgICAgICAgICB0b3duID0gcmVzcG9uc2UuVE9XTiAgDQogICAgICAgIH0NCiAgICAgICAgaWYocmVzcG9uc2UuQ1NDRCAhPSBudWxsKXsNCiAgICAgICAgICBjb3VudHJ5ID0gcmVzcG9uc2UuQ1NDRCAgDQogICAgICAgIH0NCiAgICAgICAgaWYocmVzcG9uc2UuUE9OTyAhPSBudWxsKXsNCiAgICAgICAgICBwb3N0YWxDb2RlID0gcmVzcG9uc2UuUE9OTyAgDQogICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIG1pQ2FsbGVyLmNhbGwoIk1XUzQxME1JIiwiR2V0QWRyIiwgcGFyYW1zLCBjYWxsYmFjaykNCiAgICAgIA0KICAgICAgICBvdXROQU1FID0gbmFtZQ0KICAgICAgICBvdXRUT1dOID0gdG93bg0KICAgICAgICBvdXRDU0NEID0gY291bnRyeQ0KICAgICAgICBvdXRQT05PID0gcG9zdGFsQ29kZQ0KICAgfSANCg0KICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgIC8vIEdldCBjYWxjdWxhdGVkIGluZm8gZnJvbSB0aGUgZGVsIG9yZGVyIGxpbmUgdXNpbmcgT0lTMzUwTUkuR2V0RGVsTGluZQ0KICAgLy8gSW5wdXQgDQogICAvLyBDb21wYW55DQogICAvLyBPcmRlciBOdW1iZXINCiAgIC8vIERlbGl2ZXJ5IE51bWJlcg0KICAgLy8gV2FyZWhvdXNlDQogICAvLyBMaW5lIE51bWJlcg0KICAgLy8gTGluZSBTdWZmaXgNCiAgIC8vIFBheW1lbnQgVGVybXMNCiAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogICBwcml2YXRlIGdldEFkZGl0aW9uYWxEZWxMaW5lSW5mbyhTdHJpbmcgY29tcGFueSwgU3RyaW5nIG9yZGVyTnVtYmVyLCBTdHJpbmcgZGVsaXZlcnlOdW1iZXIsIFN0cmluZyB3YXJlaG91c2UsIFN0cmluZyBvcmRlckxpbmUsIFN0cmluZyBvcmRlckxpbmVTdWZmaXgsIFN0cmluZyBwYXltZW50VGVybXMpeyAgIA0KICAgICAgICBkZWYgcGFyYW1zID0gW0NPTk86IGNvbXBhbnlTdHJpbmcsIE9STk86IG9yZGVyTnVtYmVyLCBETElYOiBkZWxpdmVyeU51bWJlclN0cmluZywgV0hMTzogd2FyZWhvdXNlLCBQT05SOiBvcmRlckxpbmUsIFBPU1g6IG9yZGVyTGluZVN1ZmZpeCwgVEVQWTogcGF5bWVudFRlcm1zXSANCiAgICAgICAgU3RyaW5nIGludlF0eSA9IG51bGwNCiAgICAgICAgU3RyaW5nIGRlbFF0eSA9IG51bGwNCiAgICAgICAgU3RyaW5nIGNvc3RBbW91bnQgPSBudWxsDQogICAgICAgIGRlZiBjYWxsYmFjayA9IHsNCiAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgICBpZihyZXNwb25zZS5RVFk0ICE9IG51bGwpew0KICAgICAgICAgIGludlF0eSA9IHJlc3BvbnNlLlFUWTQgDQogICAgICAgIH0NCiAgICAgICAgaWYocmVzcG9uc2UuUVRZNiAhPSBudWxsKXsNCiAgICAgICAgICBkZWxRdHkgPSByZXNwb25zZS5RVFk2ICANCiAgICAgICAgfQ0KICAgICAgICBpZihyZXNwb25zZS5EQ09TICE9IG51bGwpew0KICAgICAgICAgY29zdEFtb3VudCA9IHJlc3BvbnNlLkRDT1MgIA0KICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBtaUNhbGxlci5jYWxsKCJPSVMzNTBNSSIsIkdldERlbExpbmUiLCBwYXJhbXMsIGNhbGxiYWNrKQ0KICAgICAgDQogICAgICAgIG91dFFUWTQgPSBpbnZRdHkNCiAgICAgICAgb3V0UVRZNiA9IGRlbFF0eQ0KICAgICAgICBvdXREQ09TID0gY29zdEFtb3VudA0KICAgfSANCg0KICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgIC8vIEdldCBkaXZpc2lvbiByZWxhdGVkIGluZm8gZnJvbSBNTlMxNTBNSS5HZXRCYXNpY0RhdGENCiAgIC8vIElucHV0IA0KICAgLy8gQ29tcGFueQ0KICAgLy8gRGVsaXZlcnkgTnVtYmVyDQogICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAgcHJpdmF0ZSBnZXREaXZpc2lvbkluZm8oU3RyaW5nIGNvbXBhbnksIFN0cmluZyBkaXZpc2lvbil7ICAgDQogICAgICAgIGRlZiBwYXJhbXMgPSBbQ09OTzogY29tcGFueVN0cmluZywgRElWSTogZGl2aXNpb25dIA0KICAgICAgICBTdHJpbmcgbG9jYWxDdXJyZW5jeSA9IG51bGwNCiAgICAgICAgZGVmIGNhbGxiYWNrID0gew0KICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IHJlc3BvbnNlIC0+DQogICAgICAgIGlmKHJlc3BvbnNlLkxPQ0QgIT0gbnVsbCl7DQogICAgICAgICAgbG9jYWxDdXJyZW5jeSA9IHJlc3BvbnNlLkxPQ0QNCiAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgbWlDYWxsZXIuY2FsbCgiTU5TMTAwTUkiLCJHZXRCYXNpY0RhdGEiLCBwYXJhbXMsIGNhbGxiYWNrKQ0KICAgICAgDQogICAgICAgIG91dExPQ0QgPSBsb2NhbEN1cnJlbmN5DQogICB9IA0KDQoNCiAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogICAvLyBHZXQgY2FsY3VsYXRlZCBpbmZvIGZyb20gdGhlIGRlbCBvcmRlciBsaW5lIHVzaW5nIE9JUzM1ME1JLkxzdEludkxpbmVCeVR5cCAgICANCiAgIC8vIElucHV0IA0KICAgLy8gQ29tcGFueQ0KICAgLy8gRGl2aXNpb24NCiAgIC8vIFllYXINCiAgIC8vIEludm9pY2UgTnVtYmVyDQogICAvLyBJbmZvcm1hdGlvbiBUeXBlDQogICAvLyBJbnZvaWNlIFByZWZpeA0KICAgLy8gRXh0ZW5kZWQgSW52b2ljZSBOdW1iZXINCiAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogICBwcml2YXRlIGdldEludm9pY2VDaGFyZ2VzKFN0cmluZyBjb21wYW55U3RyaW5nLCBTdHJpbmcgZGl2aXNpb24sIFN0cmluZyB5ZWFyLCBTdHJpbmcgaW52b2ljZU51bWJlclN0cmluZywgU3RyaW5nIGluZm9ybWF0aW9uVHlwZSwgU3RyaW5nIGludm9pY2VQcmVmaXgsIFN0cmluZyBleHRJbnZvaWNlTnVtYmVyKXsgICANCiAgICAgICAgZGVmIHBhcmFtcyA9IFtDT05POiBjb21wYW55U3RyaW5nLCBESVZJOiBkaXZpc2lvbiwgWUVBNDogeWVhciwgSVZOTzogaW52b2ljZU51bWJlclN0cmluZywgSVZUUDogaW5mb3JtYXRpb25UeXBlLCBJTlBYOiBpbnZvaWNlUHJlZml4LCBFWElOOiBleHRJbnZvaWNlTnVtYmVyXSANCiAgICAgICAgZGVmIGNhbGxiYWNrID0gew0KICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IHJlc3BvbnNlIC0+DQogICAgICAgIGlmKHJlc3BvbnNlLkFNVDEgIT0gbnVsbCl7DQogICAgICAgICAgaW52Q2hhcmdlID0gcmVzcG9uc2UuQU1UMSANCiAgICAgICAgfQ0KICAgICAgICBpZihyZXNwb25zZS5JVlJGICE9IG51bGwpew0KICAgICAgICAgIGludlJlZmVyZW5jZSA9IHJlc3BvbnNlLklWUkYgDQogICAgICAgIH0NCg0KICAgICAgICB9DQoNCiAgICAgICAgbWlDYWxsZXIuY2FsbCgiT0lTMzUwTUkiLCJMc3RJbnZMaW5lQnlUeXAiLCBwYXJhbXMsIGNhbGxiYWNrKQ0KICAgfSANCiAgIA0KICAgDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIC8vIEdldCBBdHRyaWJ1dGUgZnJvbSBNT0FUVFINCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiBwcml2YXRlIE9wdGlvbmFsPERCQ29udGFpbmVyPiBmaW5kTU9BVFRSKEludGVnZXIgQ09OTywgbG9uZyBBVE5SLCBTdHJpbmcgQVRJRCwgU3RyaW5nIEFWU1EpeyAgDQogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTU9BVFRSIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJBSENPTk8iLCAiQUhBVE5SIiwgIkFIQVRJRCIsICJBSEFWU1EiLCAiQUhBVEFWIikuYnVpbGQoKSAgDQogICAgZGVmIE1PQVRUUiA9IHF1ZXJ5LmdldENvbnRhaW5lcigpDQogICAgTU9BVFRSLnNldCgiQUhDT05PIiwgQ09OTykNCiAgICBNT0FUVFIuc2V0KCJBSEFUTlIiLCBBVE5SKQ0KICAgIE1PQVRUUi5zZXQoIkFIQVRJRCIsICJGT0NVUyIpDQogICAgTU9BVFRSLnNldCgiQUhBVlNRIiwgMCkNCiAgICANCiAgICBpZihxdWVyeS5yZWFkKE1PQVRUUikpICB7IA0KICAgICAgcmV0dXJuIE9wdGlvbmFsLm9mKE1PQVRUUikNCiAgICB9IA0KICANCiAgICByZXR1cm4gT3B0aW9uYWwuZW1wdHkoKQ0KICB9DQoNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgLy8gR2V0IEludm9pY2UgTGluZSBJbmZvIGZyb20gRlNMRURHDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIHByaXZhdGUgT3B0aW9uYWw8REJDb250YWluZXI+IGZpbmRGU0xFREcoSW50ZWdlciBDT05PLCBTdHJpbmcgRElWSSwgSW50ZWdlciBZRUE0LCBJbnRlZ2VyIEpSTk8sIEludGVnZXIgSlNOTyl7ICANCiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJGU0xFREciKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIkVTQ09OTyIsICJFU0RJVkkiLCAiRVNZRUE0IiwgIkVTSlJOTyIsICJFU0pTTk8iLCAiRVNDSU5PIiwgIkVTSU5ZUiIpLmJ1aWxkKCkgICAgDQogICAgZGVmIEZTTEVERyA9IHF1ZXJ5LmdldENvbnRhaW5lcigpDQogICAgRlNMRURHLnNldCgiRVNDT05PIiwgQ09OTykNCiAgICBGU0xFREcuc2V0KCJFU0RJVkkiLCBESVZJKQ0KICAgIEZTTEVERy5zZXQoIkVTWUVBNCIsIFlFQTQpDQogICAgRlNMRURHLnNldCgiRVNKUk5PIiwgSlJOTykNCiAgICBGU0xFREcuc2V0KCJFU0pTTk8iLCBKU05PKQ0KDQogICAgaWYocXVlcnkucmVhZChGU0xFREcpKSAgeyANCiAgICAgIHJldHVybiBPcHRpb25hbC5vZihGU0xFREcpDQogICAgfSANCiAgDQogICAgcmV0dXJuIE9wdGlvbmFsLmVtcHR5KCkNCiAgfQ0KDQoNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgLy8gQ2hlY2sgaWYgbnVsbCBvciBlbXB0eQ0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICANCiAgIHB1YmxpYyAgYm9vbGVhbiBpc051bGxPckVtcHR5KFN0cmluZyBrZXkpIHsNCiAgICAgICAgaWYoa2V5ICE9IG51bGwgJiYgIWtleS5pc0VtcHR5KCkpDQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgICANCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgLy8gR2V0IGRhdGUgaW4geXl5eU1NZGQgZm9ybWF0DQogIC8vIEByZXR1cm4gZGF0ZQ0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICBwdWJsaWMgU3RyaW5nIGN1cnJlbnREYXRlWThBc1N0cmluZygpIHsNCiAgICByZXR1cm4gTG9jYWxEYXRlLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpDQogIH0NCg0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAvLyBHZXQgZGF0ZSBpbiB5eXl5IGZvcm1hdA0KICAvLyBAcmV0dXJuIHllYXINCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgcHVibGljIFN0cmluZyBjdXJyZW50WWVhckFzU3RyaW5nKCkgew0KICAgIHJldHVybiBMb2NhbERhdGUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eSIpKQ0KICB9DQoNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgLy8gR2V0IGN1cnJlbnQgcmF0ZQ0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICBwcml2YXRlIE9wdGlvbmFsPFN0cmluZz4gZ2V0Q3VycmVuY3lSYXRlKFN0cmluZyBjb25vLCBTdHJpbmcgZGl2aSwgU3RyaW5nIGN1Y2QsIFN0cmluZyBkYXRlKSB7DQogICAgT3B0aW9uYWw8U3RyaW5nPiByID0gT3B0aW9uYWwuZW1wdHkoKSANCiAgICBkZWYgcGFyYW1zID0gWyJDT05PIjpjb25vLCAiRkRESSI6IGRpdmksICJUT0RJIjogZGl2aSwgIkZDVVIiOiBjdWNkLCAiVENVUiI6IGN1Y2QsICJDUlRQIjogIjEiLnRvU3RyaW5nKCksICJDVVREIjogZGF0ZV0gLy8gdG9TdHJpbmcgaXMgbmVlZGVkIHRvIGNvbnZlcnQgZnJvbSBnc3RyaW5nIHRvIHN0cmluZw0KICAgIFN0cmluZyBjdXN0b21lciA9IG51bGwNCiAgICBkZWYgY2FsbGJhY2sgPSB7DQogICAgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgaWYocmVzcG9uc2UuQVJBVCAhPSBudWxsKXsNCiAgICAgICAgciA9IE9wdGlvbmFsLm9mKHJlc3BvbnNlLkFSQVQudG9TdHJpbmcoKSkNCiAgICAgIH0NCiAgICB9DQogICAgDQogICAgbWlDYWxsZXIuY2FsbCgiQ1JTMDU1TUkiLCJTZWxFeGNoYW5nZVJhdGUiLCBwYXJhbXMsIGNhbGxiYWNrKQ0KICAgIA0KICAgIHJldHVybiByDQogICAgDQogIH0NCg0KICAgIA0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAvLyBTZXQgT3V0cHV0IGRhdGENCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiANCiAgdm9pZCBzZXRPdXRwdXQoKSB7DQogICAgbWkub3V0RGF0YS5wdXQoIklWTk8iLCBvdXRJVk5PKQ0KICAgIG1pLm91dERhdGEucHV0KCJJVkRUIiwgb3V0SVZEVCkNCiAgICBtaS5vdXREYXRhLnB1dCgiQ1VOTyIsIG91dENVTk8pDQogICAgbWkub3V0RGF0YS5wdXQoIkNVQ0QiLCBvdXRDVUNEKSAgDQogICAgbWkub3V0RGF0YS5wdXQoIlRFUFkiLCBvdXRURVBZKSAgDQogICAgbWkub3V0RGF0YS5wdXQoIklUTk8iLCBvdXRJVE5PKSAgDQogICAgbWkub3V0RGF0YS5wdXQoIklURFMiLCBvdXRJVERTKSAgDQogICAgbWkub3V0RGF0YS5wdXQoIkxUWVAiLCBvdXRMVFlQKSAgDQogICAgbWkub3V0RGF0YS5wdXQoIlNQVU4iLCBvdXRTUFVOKSAgDQogICAgbWkub3V0RGF0YS5wdXQoIlFUWTYiLCBvdXRRVFk2KSAgDQogICAgbWkub3V0RGF0YS5wdXQoIlFUWTQiLCBvdXRRVFk0KSAgDQogICAgbWkub3V0RGF0YS5wdXQoIkRDT1MiLCBvdXREQ09TKQ0KICAgIG1pLm91dERhdGEucHV0KCJTQVBSIiwgb3V0U0FQUikNCiAgICBtaS5vdXREYXRhLnB1dCgiTkVQUiIsIG91dE5FUFIpDQogICAgbWkub3V0RGF0YS5wdXQoIkxOQU0iLCBvdXRMTkFNKQ0KICAgIG1pLm91dERhdGEucHV0KCJISUUxIiwgb3V0SElFMSkNCiAgICBtaS5vdXREYXRhLnB1dCgiSElFMiIsIG91dEhJRTIpDQogICAgbWkub3V0RGF0YS5wdXQoIkhJRTMiLCBvdXRISUUzKQ0KICAgIG1pLm91dERhdGEucHV0KCJISUU0Iiwgb3V0SElFNCkNCiAgICBtaS5vdXREYXRhLnB1dCgiSElFNSIsIG91dEhJRTUpDQogICAgbWkub3V0RGF0YS5wdXQoIkZBQ0kiLCBvdXRGQUNJKQ0KICAgIG1pLm91dERhdGEucHV0KCJPUlRQIiwgb3V0T1JUUCkNCiAgICBtaS5vdXREYXRhLnB1dCgiT1JOTyIsIG91dE9STk8pDQogICAgbWkub3V0RGF0YS5wdXQoIldDT04iLCBvdXRXQ09OKQ0KICAgIG1pLm91dERhdGEucHV0KCJBRElEIiwgb3V0QURJRCkNCiAgICBtaS5vdXREYXRhLnB1dCgiUlNDRCIsIG91dFJTQ0QpDQogICAgbWkub3V0RGF0YS5wdXQoIlNNQ0QiLCBvdXRTTUNEKQ0KICAgIG1pLm91dERhdGEucHV0KCJPRk5PIiwgb3V0T0ZOTykNCiAgICBtaS5vdXREYXRhLnB1dCgiT1JEVCIsIG91dE9SRFQpDQogICAgbWkub3V0RGF0YS5wdXQoIkFHTk8iLCBvdXRBR05PKQ0KICAgIG1pLm91dERhdGEucHV0KCJPUlNUIiwgb3V0T1JTVCkNCiAgICBtaS5vdXREYXRhLnB1dCgiTkFNRSIsIG91dE5BTUUpDQogICAgbWkub3V0RGF0YS5wdXQoIlRPV04iLCBvdXRUT1dOKQ0KICAgIG1pLm91dERhdGEucHV0KCJDU0NEIiwgb3V0Q1NDRCkNCiAgICBtaS5vdXREYXRhLnB1dCgiUE9OTyIsIG91dFBPTk8pDQogICAgbWkub3V0RGF0YS5wdXQoIkxPQ0QiLCBvdXRMT0NEKQ0KICAgIG1pLm91dERhdGEucHV0KCJETElYIiwgb3V0RExJWCkNCiAgICBtaS5vdXREYXRhLnB1dCgiQVRWTiIsIG91dEFUQVYpDQogICAgbWkub3V0RGF0YS5wdXQoIllFQTQiLCBvdXRZRUE0KQ0KICAgIG1pLm91dERhdGEucHV0KCJJVkRUIiwgb3V0SVZEVCkNCiAgICBtaS5vdXREYXRhLnB1dCgiVEVETCIsIG91dFRFREwpDQogICAgbWkub3V0RGF0YS5wdXQoIlRFTDEiLCBvdXRURUwxKQ0KICAgIG1pLm91dERhdGEucHV0KCJQT05SIiwgb3V0UE9OUikgICAgDQogICAgbWkub3V0RGF0YS5wdXQoIkRJU0MiLCBvdXRESVNDKSAgICANCiAgICBtaS5vdXREYXRhLnB1dCgiRElTTSIsIG91dERJU00pICAgIA0KICAgIG1pLm91dERhdGEucHV0KCJDSEdIIiwgb3V0Q0hHSCkgICAgDQogICAgbWkub3V0RGF0YS5wdXQoIkNIR0YiLCBvdXRDSEdGKSAgICANCiAgICBtaS5vdXREYXRhLnB1dCgiQ0hHTyIsIG91dENIR08pICAgIA0KICAgIG1pLm91dERhdGEucHV0KCJBR05IIiwgb3V0QUdOSCkgICAgDQogICAgbWkub3V0RGF0YS5wdXQoIlBZTk8iLCBvdXRQWU5PKSANCiAgICBtaS5vdXREYXRhLnB1dCgiQVJBVCIsIG91dEFSQVQpDQogICAgbWkub3V0RGF0YS5wdXQoIldITE8iLCBvdXRXSExPKQ0KICAgIG1pLm91dERhdGEucHV0KCJVQ0EyIiwgb3V0VUNBMikNCiAgICBtaS5vdXREYXRhLnB1dCgiVUNBMyIsIG91dFVDQTMpDQogICAgbWkub3V0RGF0YS5wdXQoIkVYSU4iLCBvdXRFWElOKQ0KICAgIGxhc3RFeHBvcnRlZEludm9pY2VOdW1iZXJFbmQgPSBvdXRJVk5PDQogIH0gDQogICAgDQogICAgDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIC8vIExpc3QgaW52b2ljZSBjb3BpZXMNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAgDQogICB2b2lkIGxzdEludm9pY2VDb3BpZXMoKXsgICANCiAgICAgDQogICAgIC8vIExpc3QgYWxsIEludm9pY2UgTGluZXMgZm9yIGNvcHkgcHJpbnRpbmcNCiAgICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwcmVzc2lvbiA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJGU0xFRFgiKQ0KICAgDQogICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLmVxKCJFU0RJVkkiLCBpbkRJVkkpLmFuZChleHByZXNzaW9uLmVxKCJFU1NFWE4iLCAiMzkyIikpLmFuZChleHByZXNzaW9uLmVxKCJFU0xNRFQiLCBjdXJyZW50RGF0ZSkpICANCg0KICAgICAvLyBMaXN0IEludm9pY2UgTGluZXMgICANCiAgICAgREJBY3Rpb24gYWN0aW9ubGluZUZTTEVEWCA9IGRhdGFiYXNlLnRhYmxlKCJGU0xFRFgiKS5pbmRleCgiMjAiKS5tYXRjaGluZyhleHByZXNzaW9uKS5zZWxlY3Rpb24oIkVTQ09OTyIsICJFU0RJVkkiLCAiRVNTRVhOIiwgIkVTWUVBNCIsICJFU0pSTk8iLCAiRVNKU05PIikuYnVpbGQoKSAgICAgDQoNCiAgICAgREJDb250YWluZXIgbGluZUZTTEVEWCA9IGFjdGlvbmxpbmVGU0xFRFguZ2V0Q29udGFpbmVyKCkgIA0KICAgICANCiAgICAgLy8gUmVhZCB3aXRoIG9uZSBrZXkgIA0KICAgICBsaW5lRlNMRURYLnNldCgiRVNDT05PIiwgQ09OTykgIA0KICAgICANCiAgICAgaW50IHBhZ2VTaXplID0gbWkuZ2V0TWF4UmVjb3JkcygpIDw9IDAgPyAxMDAwIDogbWkuZ2V0TWF4UmVjb3JkcygpICAgICAgICAgICANCg0KICAgICBhY3Rpb25saW5lRlNMRURYLnJlYWRBbGwobGluZUZTTEVEWCwgMSwgcGFnZVNpemUsIHJlbGVhc2VkTGluZVByb2Nlc3NvckZTTEVEWCkgICANCiAgIA0KICAgfSANCiANCg0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAvLyBMaXN0IE9yZGVyIEludm9pY2UgTGluZXMgLSBtYWluIGxvb3AgLSBGU0xFRFgNCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAgDQogIENsb3N1cmU8Pz4gcmVsZWFzZWRMaW5lUHJvY2Vzc29yRlNMRURYID0geyBEQkNvbnRhaW5lciBsaW5lRlNMRURYIC0+ICAgDQogICAgIC8vRm9yIGVhY2ggcmVjb3JkLCBmaW5kIHRoZSBpbnZvaWNlIG51bWJlciBhbmQgdXNlIGFzIGlucHV0IHRvIGxzdEludm9pY2VMaW5lcygpDQogICAgIA0KICAgICAvLyBGaWVsZHMgZnJvbSBGU0xFRFggdG8gdXNlIGluIHRoZSBvdGhlciByZWFkDQogICAgIGludCBqb3VybmFsTnVtYmVyID0gbGluZUZTTEVEWC5nZXQoIkVTSlJOTyIpDQogICAgIGludCBqb3VybmFsU2VxTnVtYmVyID0gbGluZUZTTEVEWC5nZXQoIkVTSlNOTyIpIA0KICAgICBTdHJpbmcgY2lub0Zyb21GU0xFREcgPSAiIiAgDQogICAgICANCiAgICAgLy8gR2V0IEludm9pY2UgTnVtYmVyIGZyb20gRlNMRURHDQogICAgIE9wdGlvbmFsPERCQ29udGFpbmVyPiBGU0xFREcgPSBmaW5kRlNMRURHKGluQ09OTywgaW5ESVZJLCBjdXJyZW50WWVhci50b0ludGVnZXIoKSwgam91cm5hbE51bWJlciwgam91cm5hbFNlcU51bWJlcikNCiAgICAgaWYoRlNMRURHLmlzUHJlc2VudCgpKXsNCiAgICAgICAvLyBSZWNvcmQgZm91bmQsIGNvbnRpbnVlIHRvIGdldCBpbmZvcm1hdGlvbiAgDQogICAgICAgREJDb250YWluZXIgY29udGFpbmVyRlNMRURHID0gRlNMRURHLmdldCgpIA0KICAgICAgIGNpbm9Gcm9tRlNMRURHID0gY29udGFpbmVyRlNMRURHLmdldFN0cmluZygiRVNDSU5PIikgIA0KICAgICB9IA0KICAgICAgDQogICAgIGxzdEludm9pY2VMaW5lcyhjaW5vRnJvbUZTTEVERykgICAgDQoNCiAgfQ0KDQogIA0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIA0KICAvLyBMaXN0IGFsbCBpbmZvcm1hdGlvbg0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICANCiAgIHZvaWQgbHN0SW52b2ljZUxpbmVzKFN0cmluZyBjaW5vKXsgICANCiAgICAgDQogICAgIC8vIExpc3QgYWxsIEludm9pY2UgRGVsaXZlcnkgTGluZXMNCiAgICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwcmVzc2lvbiA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJPRExJTkUiKQ0KICAgDQogICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLmVxKCJVQkRJVkkiLCBpbkRJVkkpLmFuZChleHByZXNzaW9uLmVxKCJVQklWTk8iLCBjaW5vKSkgIA0KDQogICAgIC8vIExpc3QgSW52b2ljZSBEZWxpdmVyeSBMaW5lcyAgIA0KICAgICBEQkFjdGlvbiBhY3Rpb25saW5lID0gZGF0YWJhc2UudGFibGUoIk9ETElORSIpLmluZGV4KCIyMCIpLm1hdGNoaW5nKGV4cHJlc3Npb24pLnNlbGVjdGlvbigiVUJDT05PIiwgIlVCTE1EVCIsICJVQk9STk8iLCAiVUJQT05SIiwgIlVCUE9TWCIsICJVQldITE8iLCAiVUJURVBZIiwgIlVCSVZOTyIsICJVQklUTk8iLCAiVUJMVFlQIiwgIlVCU1BVTiIsICJVQlNBUFIiLCAiVUJORVBSIiwgIlVCTE5BTSIsICJVQkRDT1MiLCAiVUJESVAxIiwgIlVCRElQMiIsICJVQkRJUDMiLCAiVUJESVA0IiwgIlVCRElQNSIsICJVQkRJUDYiLCAiVUJFWElOIiwgIlVCSU5QWCIsICJVQllFQTQiKS5idWlsZCgpICAgICANCg0KICAgICBEQkNvbnRhaW5lciBsaW5lID0gYWN0aW9ubGluZS5nZXRDb250YWluZXIoKSAgDQogICAgIA0KICAgICAvLyBSZWFkIHdpdGggb25lIGtleSAgDQogICAgIGxpbmUuc2V0KCJVQkNPTk8iLCBDT05PKSAgDQogICAgIA0KICAgICBpbnQgcGFnZVNpemUgPSBtaS5nZXRNYXhSZWNvcmRzKCkgPD0gMCA/IDEwMDAgOiBtaS5nZXRNYXhSZWNvcmRzKCkgICAgICAgICAgIA0KDQogICAgIGFjdGlvbmxpbmUucmVhZEFsbChsaW5lLCAxLCBwYWdlU2l6ZSwgcmVsZWFzZWRMaW5lUHJvY2Vzc29yKSAgIA0KICAgDQogICB9IA0KIA0KDQogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogDQogIC8vIExpc3QgT3JkZXIgRGVsaXZlcnkgTG5lcyAtIG1haW4gbG9vcCAtIE9ETElORQ0KICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICANCiAgQ2xvc3VyZTw/PiByZWxlYXNlZExpbmVQcm9jZXNzb3IgPSB7IERCQ29udGFpbmVyIGxpbmUgLT4gICANCiAgDQogIC8vIEZpZWxkcyBmcm9tIE9ESEVBRCB0byB1c2UgaW4gdGhlIG90aGVyIHJlYWQNCiAgY29tcGFueSA9IGxpbmUuZ2V0KCJVQkNPTk8iKQ0KICBkZWxpdmVyeU51bWJlciA9IGxpbmUuZ2V0KCJVQkRMSVgiKSANCiAgaW52b2ljZU51bWJlciA9IGxpbmUuZ2V0KCJVQklWTk8iKSANCiAgaW52b2ljZU51bWJlclN0cmluZyA9IGxpbmUuZ2V0KCJVQklWTk8iKSAgDQogIG9yZGVyTnVtYmVyID0gbGluZS5nZXQoIlVCT1JOTyIpDQogIG9yZGVyTGluZSA9IGxpbmUuZ2V0KCJVQlBPTlIiKQ0KICBvcmRlckxpbmVTdWZmaXggPSBsaW5lLmdldCgiVUJQT1NYIikNCiAgcGF5bWVudFRlcm1zID0gbGluZS5nZXQoIlVCVEVQWSIpDQogIHdhcmVob3VzZSA9IGxpbmUuZ2V0KCJVQldITE8iKQ0KICBpdGVtTnVtYmVyID0gbGluZS5nZXQoIlVCSVROTyIpDQogIG9yZGVyTGluZVN0cmluZyA9IGxpbmUuZ2V0KCJVQlBPTlIiKQ0KICBvcmRlckxpbmVTdWZmaXhTdHJpbmcgPSBsaW5lLmdldCgiVUJQT1NYIikNCiAgc2FsZXNQcmljZSA9IGxpbmUuZ2V0KCJVQlNBUFIiKQ0KICBuZXRQcmljZSA9IGxpbmUuZ2V0KCJVQk5FUFIiKQ0KICBsaW5lQW1vdW50ID0gbGluZS5nZXQoIlVCTE5BTSIpDQogIGV4dEludm9pY2VOdW1iZXIgPSBsaW5lLmdldCgiVUJFWElOIikgIA0KICBkaXNjb3VudDEgPSBsaW5lLmdldCgiVUJESVAxIikgICAgIA0KICBkaXNjb3VudDIgPSBsaW5lLmdldCgiVUJESVAyIikgICAgIA0KICBkaXNjb3VudDMgPSBsaW5lLmdldCgiVUJESVAzIikgICAgIA0KICBkaXNjb3VudDQgPSBsaW5lLmdldCgiVUJESVA0IikgICAgIA0KICBkaXNjb3VudDUgPSBsaW5lLmdldCgiVUJESVA1IikgICAgIA0KICBkaXNjb3VudDYgPSBsaW5lLmdldCgiVUJESVA2IikgICAgDQoNCiAgLy9TdW0gb2YgZGlzY291bnRzDQogIGRpc2NvdW50U3VtID0gMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogIGRpc2NvdW50U3VtID0gZGlzY291bnQxICsgZGlzY291bnQyICsgZGlzY291bnQzICsgZGlzY291bnQ1ICsgZGlzY291bnQ2ICAgICAgDQogIA0KICAvLyBHZXQgRGVsaXZlcnkgSGVhZCBJbmZvIA0KICBPcHRpb25hbDxEQkNvbnRhaW5lcj4gT0RIRUFEID0gZmluZE9ESEVBRChjb21wYW55LCBvcmRlck51bWJlciwgd2FyZWhvdXNlLCBkZWxpdmVyeU51bWJlciwgcGF5bWVudFRlcm1zKQ0KICBpZihPREhFQUQuaXNQcmVzZW50KCkpew0KICAgIC8vIFJlY29yZCBmb3VuZCwgY29udGludWUgdG8gZ2V0IGluZm9ybWF0aW9uICANCiAgICBEQkNvbnRhaW5lciBjb250YWluZXJPREhFQUQgPSBPREhFQUQuZ2V0KCkgDQogICAgDQogICAgY29tcGFueVN0cmluZyA9IGNvbnRhaW5lck9ESEVBRC5nZXQoIlVBQ09OTyIpIA0KICAgIGRpdmlzaW9uID0gY29udGFpbmVyT0RIRUFELmdldCgiVUFESVZJIikgDQogICAgZGVsaXZlcnlOdW1iZXJTdHJpbmcgPSBjb250YWluZXJPREhFQUQuZ2V0KCJVQURMSVgiKSAgDQogICAgb3JkZXJTdGF0dXMgPSBjb250YWluZXJPREhFQUQuZ2V0U3RyaW5nKCJVQU9SU1QiKQ0KICAgIGN1c3RvbWVyID0gY29udGFpbmVyT0RIRUFELmdldFN0cmluZygiVUFDVU5PIikgIA0KICAgIGN1cnJlbmN5Q29kZSA9IGNvbnRhaW5lck9ESEVBRC5nZXRTdHJpbmcoIlVBQ1VDRCIpICAgDQogICAgcGF5bWVudFRlcm1zID0gY29udGFpbmVyT0RIRUFELmdldFN0cmluZygiVUFURVBZIikgIA0KICAgIGRlbGl2ZXJ5VGVybXMgPSBjb250YWluZXJPREhFQUQuZ2V0U3RyaW5nKCJVQVRFREwiKSAgDQogICAgaW52b2ljZURhdGUgPSBTdHJpbmcudmFsdWVPZihjb250YWluZXJPREhFQUQuZ2V0KCJVQUlWRFQiKSkgIA0KICAgIHllYXIgPSBTdHJpbmcudmFsdWVPZihjb250YWluZXJPREhFQUQuZ2V0KCJVQVlFQTQiKSkgDQogICAgaW52b2ljZVByZWZpeCA9IGNvbnRhaW5lck9ESEVBRC5nZXQoIlVBSU5QWCIpICAgICAgICAgICAgICAgICAgIA0KICAgIHBheWVyID0gY29udGFpbmVyT0RIRUFELmdldCgiVUFQWU5PIikgICAgICAgICAgICAgICAgICAgICAgICAgICANCg0KICB9IA0KICANCiAgDQogIGlmIChvcmRlclN0YXR1cyA+PSAiNzAiKSB7DQogICAgICAgIG91dENPTk8gPSBTdHJpbmcudmFsdWVPZihsaW5lLmdldCgiVUJDT05PIikpDQogICAgICAgIG91dERMSVggPSBTdHJpbmcudmFsdWVPZihsaW5lLmdldCgiVUJETElYIikpDQogICAgICAgIG91dElWTk8gPSBTdHJpbmcudmFsdWVPZihsaW5lLmdldCgiVUJJVk5PIikpIA0KICAgICAgICBvdXRJVE5PID0gU3RyaW5nLnZhbHVlT2YobGluZS5nZXQoIlVCSVROTyIpKSAgDQogICAgICAgIG91dExUWVAgPSBTdHJpbmcudmFsdWVPZihsaW5lLmdldCgiVUJMVFlQIikpDQogICAgICAgIG91dFNQVU4gPSBTdHJpbmcudmFsdWVPZihsaW5lLmdldCgiVUJTUFVOIikpDQogICAgICAgIG91dENVTk8gPSBjdXN0b21lcg0KICAgICAgICBvdXRDVUNEID0gY3VycmVuY3lDb2RlIA0KICAgICAgICBvdXRURVBZID0gcGF5bWVudFRlcm1zDQogICAgICAgIG91dE9SU1QgPSBvcmRlclN0YXR1cw0KICAgICAgICBvdXRETElYID0gZGVsaXZlcnlOdW1iZXINCiAgICAgICAgb3V0U0FQUiA9IHNhbGVzUHJpY2UNCiAgICAgICAgb3V0TkVQUiA9IG5ldFByaWNlDQogICAgICAgIG91dExOQU0gPSBsaW5lQW1vdW50DQogICAgICAgIG91dFRFREwgPSBkZWxpdmVyeVRlcm1zDQogICAgICAgIG91dElWRFQgPSBpbnZvaWNlRGF0ZQ0KICAgICAgICBvdXRZRUE0ID0geWVhcg0KICAgICAgICBvdXRESVNDID0gZGlzY291bnRTdW0gICANCiAgICAgICAgb3V0RElTTSA9IGRpc2NvdW50NCAgICAgDQogICAgICAgIG91dFBZTk8gPSBwYXllcg0KICAgICAgICBvdXRXSExPID0gd2FyZWhvdXNlDQogICAgICAgIG91dEVYSU4gPSBleHRJbnZvaWNlTnVtYmVyDQogICAgICAgIA0KICAgICAgICAvLyBGaW5kIGV4Y2hhbmdlIHJhdGUNCiAgICAgICAgT3B0aW9uYWw8U3RyaW5nPiB0bXBBUkFUID0gZ2V0Q3VycmVuY3lSYXRlKG91dENPTk8sIGRpdmlzaW9uLCBvdXRDVUNELCBpbnZvaWNlRGF0ZSkNCiAgICAgICAgaWYodG1wQVJBVC5pc1ByZXNlbnQoKSkgew0KICAgICAgICAgIG91dEFSQVQgPSB0bXBBUkFULmdldCgpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgb3V0QVJBVCA9ICIiDQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8vIEdldCBPcmRlciBIZWFkIEluZm8gDQogICAgICAgIE9wdGlvbmFsPERCQ29udGFpbmVyPiBPT0hFQUQgPSBmaW5kT09IRUFEKGNvbXBhbnksIG9yZGVyTnVtYmVyKQ0KICAgICAgICBpZihPT0hFQUQuaXNQcmVzZW50KCkpew0KICAgICAgICAgIC8vIFJlY29yZCBmb3VuZCwgY29udGludWUgdG8gZ2V0IGluZm9ybWF0aW9uICANCiAgICAgICAgICBEQkNvbnRhaW5lciBjb250YWluZXJPT0hFQUQgPSBPT0hFQUQuZ2V0KCkgDQogICAgICAgICAgb3V0T1JEVCA9IFN0cmluZy52YWx1ZU9mKGNvbnRhaW5lck9PSEVBRC5nZXQoIk9BT1JEVCIpKSAgDQogICAgICAgICAgb3V0RkFDSSA9IGNvbnRhaW5lck9PSEVBRC5nZXRTdHJpbmcoIk9BRkFDSSIpICANCiAgICAgICAgICBvdXRPUlRQID0gY29udGFpbmVyT09IRUFELmdldFN0cmluZygiT0FPUlRQIikgICANCiAgICAgICAgICBvdXRXQ09OID0gY29udGFpbmVyT09IRUFELmdldFN0cmluZygiT0FXQ09OIikgICANCiAgICAgICAgICBvdXRPUk5PID0gY29udGFpbmVyT09IRUFELmdldFN0cmluZygiT0FPUk5PIikgIA0KICAgICAgICAgIG91dEFHTkggPSBjb250YWluZXJPT0hFQUQuZ2V0U3RyaW5nKCJPQUFHTk8iKSAgICAgICAgIA0KICAgICAgICAgIGxhbmd1YWdlQ29kZSA9IGNvbnRhaW5lck9PSEVBRC5nZXRTdHJpbmcoIk9BTE5DRCIpICAgDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgb3V0T1JEVCA9ICIiDQogICAgICAgICAgb3V0RkFDSSA9ICIiDQogICAgICAgICAgb3V0T1JUUCA9ICIiDQogICAgICAgICAgb3V0V0NPTiA9ICIiDQogICAgICAgICAgb3V0T1JOTyA9ICIiDQogICAgICAgICAgbGFuZ3VhZ2VDb2RlID0gIiINCiAgICAgICAgfSANCg0KICAgICAgICAvLyBURURMIHRleHQNCiAgICAgICAgT3B0aW9uYWw8REJDb250YWluZXI+IENTWVRBQiA9IGZpbmRDU1lUQUIoY29tcGFueSwgZGVsaXZlcnlUZXJtcywgbGFuZ3VhZ2VDb2RlKQ0KICAgICAgICBpZihDU1lUQUIuaXNQcmVzZW50KCkpew0KICAgICAgICAgIC8vIFJlY29yZCBmb3VuZCwgY29udGludWUgdG8gZ2V0IGluZm9ybWF0aW9uICANCiAgICAgICAgICBEQkNvbnRhaW5lciBjb250YWluZXJDU1lUQUIgPSBDU1lUQUIuZ2V0KCkgDQogICAgICAgICAgb3V0VEVMMSA9IGNvbnRhaW5lckNTWVRBQi5nZXRTdHJpbmcoIkNUUEFSTSIpICANCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBvdXRURUwxID0gIiINCiAgICAgICAgfSANCg0KICAgICAgICAvLyBHZXQgT3JkZXIgTGluZSBJbmZvIA0KICAgICAgICBPcHRpb25hbDxEQkNvbnRhaW5lcj4gT09MSU5FID0gZmluZE9PTElORShjb21wYW55LCBvcmRlck51bWJlciwgb3JkZXJMaW5lLCBvcmRlckxpbmVTdWZmaXgpDQogICAgICAgIGlmKE9PTElORS5pc1ByZXNlbnQoKSl7DQogICAgICAgICAgLy8gUmVjb3JkIGZvdW5kLCBjb250aW51ZSB0byBnZXQgaW5mb3JtYXRpb24gIA0KICAgICAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck9PTElORSA9IE9PTElORS5nZXQoKSANCiAgICAgICAgICBvdXRBRElEID0gY29udGFpbmVyT09MSU5FLmdldFN0cmluZygiT0JBRElEIikgIA0KICAgICAgICAgIG91dFJTQ0QgPSBjb250YWluZXJPT0xJTkUuZ2V0U3RyaW5nKCJPQlJTQ0QiKSAgIA0KICAgICAgICAgIG91dFNNQ0QgPSBjb250YWluZXJPT0xJTkUuZ2V0U3RyaW5nKCJPQlNNQ0QiKSAgIA0KICAgICAgICAgIG91dE9GTk8gPSBjb250YWluZXJPT0xJTkUuZ2V0U3RyaW5nKCJPQk9GTk8iKSAgIA0KICAgICAgICAgIG91dEFHTk8gPSBjb250YWluZXJPT0xJTkUuZ2V0U3RyaW5nKCJPQkFHTk8iKSANCiAgICAgICAgICBhdHRyaWJ1dGVOdW1iZXIgPSBjb250YWluZXJPT0xJTkUuZ2V0KCJPQkFUTlIiKSANCiAgICAgICAgICBvdXRQT05SID0gY29udGFpbmVyT09MSU5FLmdldCgiT0JQT05SIikgDQogICAgICAgICAgb3V0VUNBMiA9IGNvbnRhaW5lck9PTElORS5nZXRTdHJpbmcoIk9CVUNBMiIpIA0KICAgICAgICAgIG91dFVDQTMgPSBjb250YWluZXJPT0xJTkUuZ2V0U3RyaW5nKCJPQlVDQTMiKSANCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBvdXRBRElEID0gIiINCiAgICAgICAgICBvdXRSU0NEID0gIiINCiAgICAgICAgICBvdXRTTUNEID0gIiINCiAgICAgICAgICBvdXRPRk5PID0gIiINCiAgICAgICAgICBvdXRBR05PID0gIiINCiAgICAgICAgICBhdHRyaWJ1dGVOdW1iZXIgPSAwDQogICAgICAgICAgb3V0UE9OUiA9IDANCiAgICAgICAgICBvdXRVQ0EyID0gIiINCiAgICAgICAgICBvdXRVQ0EzID0gIiINCiAgICAgICAgfQ0KDQogICAgIA0KICAgICAgICAvLyBHZXQgSXRlbSBpbmZvcm1hdGlvbiANCiAgICAgICAgT3B0aW9uYWw8REJDb250YWluZXI+IE1JVE1BUyA9IGZpbmRNSVRNQVMoY29tcGFueSwgaXRlbU51bWJlcikNCiAgICAgICAgaWYoTUlUTUFTLmlzUHJlc2VudCgpKXsNCiAgICAgICAgICAvLyBSZWNvcmQgZm91bmQsIGNvbnRpbnVlIHRvIGdldCBpbmZvcm1hdGlvbiAgDQogICAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTUlUTUFTID0gTUlUTUFTLmdldCgpIA0KICAgICAgICAgIG91dElURFMgPSBjb250YWluZXJNSVRNQVMuZ2V0U3RyaW5nKCJNTUlURFMiKSAgIA0KICAgICAgICAgIG91dEhJRTEgPSBjb250YWluZXJNSVRNQVMuZ2V0U3RyaW5nKCJNTUhJRTEiKSAgIA0KICAgICAgICAgIG91dEhJRTIgPSBjb250YWluZXJNSVRNQVMuZ2V0U3RyaW5nKCJNTUhJRTIiKSAgIA0KICAgICAgICAgIG91dEhJRTMgPSBjb250YWluZXJNSVRNQVMuZ2V0U3RyaW5nKCJNTUhJRTMiKSAgDQogICAgICAgICAgb3V0SElFNCA9IGNvbnRhaW5lck1JVE1BUy5nZXRTdHJpbmcoIk1NSElFNCIpICANCiAgICAgICAgICBvdXRISUU1ID0gY29udGFpbmVyTUlUTUFTLmdldFN0cmluZygiTU1ISUU1IikgIA0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIG91dElURFMgPSAiIg0KICAgICAgICAgIG91dEhJRTEgPSAiIg0KICAgICAgICAgIG91dEhJRTIgPSAiIg0KICAgICAgICAgIG91dEhJRTMgPSAiIg0KICAgICAgICAgIG91dEhJRTQgPSAiIg0KICAgICAgICAgIG91dEhJRTUgPSAiIg0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyBHZXQgQXR0cmlidXRlIGluZm9ybWF0aW9uIA0KICAgICAgICBPcHRpb25hbDxEQkNvbnRhaW5lcj4gTU9BVFRSID0gZmluZE1PQVRUUihjb21wYW55LCBhdHRyaWJ1dGVOdW1iZXIsICJGT0NVUyIsICIwIikNCiAgICAgICAgaWYoTU9BVFRSLmlzUHJlc2VudCgpKXsNCiAgICAgICAgICAvLyBSZWNvcmQgZm91bmQsIGNvbnRpbnVlIHRvIGdldCBpbmZvcm1hdGlvbiAgDQogICAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTU9BVFRSID0gTU9BVFRSLmdldCgpIA0KICAgICAgICAgIG91dEFUQVYgPSBjb250YWluZXJNT0FUVFIuZ2V0U3RyaW5nKCJBSEFUQVYiKSAgIA0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIG91dEFUQVYgPSAiIg0KICAgICAgICB9DQoNCiAgICAgICAgZ2V0RGVsaXZlcnlBZGRyZXNzKGNvbXBhbnlTdHJpbmcsIGRlbGl2ZXJ5TnVtYmVyU3RyaW5nLCAiMDEiKQ0KICAgICAgICANCiAgICAgICAgZ2V0QWRkaXRpb25hbERlbExpbmVJbmZvKGNvbXBhbnlTdHJpbmcsIG9yZGVyTnVtYmVyLCBkZWxpdmVyeU51bWJlclN0cmluZywgd2FyZWhvdXNlLCBvcmRlckxpbmVTdHJpbmcsIG9yZGVyTGluZVN1ZmZpeFN0cmluZywgcGF5bWVudFRlcm1zKQ0KICAgICAgICANCiAgICAgICAgaW52Q2hhcmdlID0gMA0KICAgICAgICBvdXRDSEdIID0gIiINCiAgICAgICAgaW5mb3JtYXRpb25UeXBlID0gIjY1Ig0KICAgICAgICBnZXRJbnZvaWNlQ2hhcmdlcyhjb21wYW55U3RyaW5nLCBkaXZpc2lvbiwgeWVhciwgaW52b2ljZU51bWJlclN0cmluZywgaW5mb3JtYXRpb25UeXBlLCBpbnZvaWNlUHJlZml4LCBleHRJbnZvaWNlTnVtYmVyKSAgICANCiAgICAgICAgb3V0Q0hHSCA9IGludkNoYXJnZQ0KICAgICAgICANCiAgICAgICAgaW52Q2hhcmdlID0gMA0KICAgICAgICBvdXRDSEdGID0gIiINCiAgICAgICAgaW5mb3JtYXRpb25UeXBlID0gIjYwIg0KICAgICAgICBnZXRJbnZvaWNlQ2hhcmdlcyhjb21wYW55U3RyaW5nLCBkaXZpc2lvbiwgeWVhciwgaW52b2ljZU51bWJlclN0cmluZywgaW5mb3JtYXRpb25UeXBlLCBpbnZvaWNlUHJlZml4LCBleHRJbnZvaWNlTnVtYmVyKSAgICANCiAgICAgICAgaWYgKGludlJlZmVyZW5jZSAhPSBudWxsKSB7DQogICAgICAgICAgaWYgKGludlJlZmVyZW5jZS5zdGFydHNXaXRoKCJGIikpIHsNCiAgICAgICAgICAgIG91dENIR0YgPSBpbnZDaGFyZ2UNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGludkNoYXJnZSA9IDANCiAgICAgICAgb3V0Q0hHTyA9ICIiDQogICAgICAgIGluZm9ybWF0aW9uVHlwZSA9ICI2MCINCiAgICAgICAgZ2V0SW52b2ljZUNoYXJnZXMoY29tcGFueVN0cmluZywgZGl2aXNpb24sIHllYXIsIGludm9pY2VOdW1iZXJTdHJpbmcsIGluZm9ybWF0aW9uVHlwZSwgaW52b2ljZVByZWZpeCwgZXh0SW52b2ljZU51bWJlcikgICAgDQogICAgICAgIGlmIChpbnZSZWZlcmVuY2UgIT0gbnVsbCkgew0KICAgICAgICAgIGlmICghaW52UmVmZXJlbmNlLnN0YXJ0c1dpdGgoIkYiKSkgew0KICAgICAgICAgICAgb3V0Q0hHTyA9IGludkNoYXJnZQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIA0KICAgICAgICBnZXREaXZpc2lvbkluZm8oY29tcGFueVN0cmluZywgZGl2aXNpb24pDQogICAgICAgIA0KICAgICAgLy8gU2VuZCBPdXRwdXQNCiAgICAgIHNldE91dHB1dCgpDQogICAgICBtaS53cml0ZSgpIA0KDQogICB9DQoNCg0KICB9DQogIA0KfQ0KIA=="}}}